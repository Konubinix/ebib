<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Joost Kremers" />
  <title>Ebib Manual</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
  <link rel="stylesheet" href="ebib.css" type="text/css" />
</head>
<body>
<div id="header">
<h1 class="title">Ebib Manual</h1>
<h2 class="author">Joost Kremers</h2>
</div>
<div id="TOC">
<ul>
<li><a href="#installation">Installation</a><ul>
<li><a href="#package-manager">Package manager</a></li>
<li><a href="#manual-installation">Manual installation</a></li>
<li><a href="#installing-the-info-file">Installing the info file</a></li>
<li><a href="#starting-ebib">Starting Ebib</a></li>
</ul></li>
<li><a href="#basic-usage">Basic Usage</a><ul>
<li><a href="#getting-started">Getting Started</a><ul>
<li><a href="#opening-a-.bib-file">Opening a <code>.bib</code> File</a></li>
<li><a href="#preloading-.bib-files">Preloading <code>.bib</code> Files</a></li>
<li><a href="#navigating-a-.bib-file">Navigating a <code>.bib</code> File</a></li>
<li><a href="#starting-a-new-.bib-file">Starting a New <code>.bib</code> File</a></li>
</ul></li>
<li><a href="#editing-the-database">Editing the Database</a><ul>
<li><a href="#adding-and-deleting-entries">Adding and Deleting Entries</a></li>
<li><a href="#editing-fields-values">Editing Fields Values</a></li>
<li><a href="#editing-multiline-values">Editing Multiline Values</a></li>
<li><a href="#copy-cut-paste-yank-and-delete">Copy, Cut, Paste (Yank), and Delete</a></li>
</ul></li>
<li><a href="#saving-a-database">Saving a Database</a></li>
<li><a href="#searching">Searching</a></li>
<li><a href="#consulting-bibtex-databases-outside-ebib">Consulting BibTeX Databases outside Ebib</a><ul>
<li><a href="#key-bindings">Key Bindings</a></li>
<li><a href="#defining-citation-commands">Defining Citation Commands</a></li>
<li><a href="#associating-a-database-with-a-latex-file">Associating a Database with a LaTeX File</a></li>
</ul></li>
<li><a href="#cross-referencing">Cross-referencing</a></li>
<li><a href="#selecting-entries">Selecting Entries</a></li>
<li><a href="#printing-the-database">Printing the Database</a></li>
<li><a href="#calling-a-browser">Calling a Browser</a></li>
<li><a href="#viewing-files">Viewing Files</a></li>
</ul></li>
<li><a href="#advanced-features">Advanced Features</a><ul>
<li><a href="#window-management">Window Management</a></li>
<li><a href="#creating-entry-stubs">Creating Entry Stubs</a></li>
<li><a href="#preamble-definition"><span class="citation">@Preamble</span> Definition</a></li>
<li><a href="#string-definitions"><span class="citation">@String</span> Definitions</a></li>
<li><a href="#managing-keywords">Managing Keywords</a></li>
<li><a href="#sorting-the-.bib-file">Sorting the <code>.bib</code> File</a></li>
<li><a href="#merging-and-importing">Merging and Importing</a></li>
<li><a href="#exporting-entries">Exporting Entries</a></li>
<li><a href="#timestamps">Timestamps</a></li>
<li><a href="#multiple-identical-fields">Multiple Identical Fields</a></li>
<li><a href="#filters">Filters</a><ul>
<li><a href="#simple-selection">Simple Selection</a></li>
<li><a href="#complex-filters">Complex Filters</a></li>
<li><a href="#storing-and-saving-filters">Storing and Saving Filters</a></li>
<li><a href="#properties-of-filtered-databases">Properties of Filtered Databases</a></li>
</ul></li>
<li><a href="#the-multiline-edit-buffer">The Multiline Edit Buffer</a></li>
<li><a href="#the-options-menu">The Options Menu</a></li>
</ul></li>
<li><a href="#the-ebib-buffers">The Ebib Buffers</a><ul>
<li><a href="#the-index-buffer">The Index Buffer</a></li>
<li><a href="#the-entry-buffer">The Entry Buffer</a></li>
<li><a href="#the-strings-buffer">The Strings Buffer</a></li>
</ul></li>
<li><a href="#customisation">Customisation</a><ul>
<li><a href="#the-customisation-buffer">The Customisation Buffer</a><ul>
<li><a href="#default-type">Default Type</a></li>
<li><a href="#preload-bib-files">Preload Bib Files</a></li>
<li><a href="#preload-bib-search-dirs">Preload Bib Search Dirs</a></li>
<li><a href="#create-backups">Create Backups</a></li>
<li><a href="#keywords-list">Keywords list</a></li>
<li><a href="#keywords-file">Keywords File</a></li>
<li><a href="#keywords-file-save-on-exit">Keywords File Save On Exit</a></li>
<li><a href="#keywords-use-only-file">Keywords Use Only File</a></li>
<li><a href="#keywords-field-keep-sorted">Keywords Field Keep Sorted</a></li>
<li><a href="#keywords-separator">Keywords Separator</a></li>
<li><a href="#additional-fields">Additional Fields</a></li>
<li><a href="#layout">Layout</a></li>
<li><a href="#width">Width</a></li>
<li><a href="#popup-entry-window">Popup Entry Window</a></li>
<li><a href="#window-vertical-split">Window Vertical Split</a></li>
<li><a href="#index-window-size">Index Window Size</a></li>
<li><a href="#index-mode-line">Index Mode Line</a></li>
<li><a href="#index-display-fields">Index Display Fields</a></li>
<li><a href="#uniquify-keys">Uniquify Keys</a></li>
<li><a href="#autogenerate-keys">Autogenerate Keys</a></li>
<li><a href="#citation-commands">Citation Commands</a></li>
<li><a href="#multiline-major-mode">Multiline Major Mode</a></li>
<li><a href="#sort-order">Sort Order</a></li>
<li><a href="#save-xrefs-first">Save Xrefs First</a></li>
<li><a href="#crossref-face">Crossref Face</a></li>
<li><a href="#selected-face">Selected Face</a></li>
<li><a href="#use-timestamp">Use Timestamp</a></li>
<li><a href="#timestamp-format">Timestamp Format</a></li>
<li><a href="#standard-url-field">Standard Url Field</a></li>
<li><a href="#url-regexp">Url Regexp</a></li>
<li><a href="#browser-command">Browser Command</a></li>
<li><a href="#standard-doi-field">Standard Doi Field</a></li>
<li><a href="#standard-file-field">Standard File Field</a></li>
<li><a href="#file-associations">File Associations</a></li>
<li><a href="#filename-separator">Filename Separator</a></li>
<li><a href="#file-search-dirs">File Search Dirs</a></li>
<li><a href="#print-preamble">Print Preamble</a></li>
<li><a href="#print-newline">Print Newline</a></li>
<li><a href="#print-multiline">Print Multiline</a></li>
<li><a href="#latex-preamble">Latex Preamble</a></li>
<li><a href="#print-tempfile">Print Tempfile</a></li>
<li><a href="#allow-identical-fields">Allow Identical Fields</a></li>
<li><a href="#filters-default-file">Filters Default File</a></li>
<li><a href="#filters-display-as-lisp">Filters Display As Lisp</a></li>
<li><a href="#filters-ignore-case">Filters Ignore Case</a></li>
<li><a href="#entry-types">Entry Types</a></li>
</ul></li>
<li><a href="#modifying-key-bindings">Modifying Key Bindings</a></li>
</ul></li>
</ul>
</div>
<article>

<p>Ebib is a program with which you can manage BibTeX database files without having to edit the raw <code>.bib</code> files. It runs in GNU/Emacs, version 23.1 or higher (lower versions are not supported).</p>
<p>It should be noted that Ebib is <em>not</em> a minor or major mode for editing BibTeX files. It is a program in itself, which just happens to make use of Emacs as a working environment, in the same way that for example Gnus is.</p>
<p>The advantage of having a BibTeX database manager inside Emacs is that X is no longer required, as Emacs can run on the console, and also that some integration with Emacs' TeX and LaTeX modes becomes possible. For example, you can push a BibTeX key from Ebib to a LaTeX buffer, or, vice versa, when you're in a LaTeX buffer, you can consult your BibTeX database and insert a key from it into the document. Another advantage of Ebib is that it is completely controlled by key commands: no stressful mouse movements are required, as with most other (usually X-based) BibTeX database managers.</p>
<h1 id="installation">Installation</h1>
<h2 id="package-manager">Package manager</h2>
<p>The easiest way to install Ebib is to use Emacs' package manager. Ebib is available as a package from the <a href="http://melpa.milkbox.net/">Melpa package archive</a>. If you add the Melpa archive to your <code>package-archive</code> list, you can install Ebib from the package manager. This will also install the Info file so you can access the Ebib manual within Emacs.</p>
<p>Note: the package manager (<code>package.el</code>) is part of Emacs 24. Users of Emacs 23 have to install it first. See the <a href="http://emacswiki.org/emacs/ELPA">ELPA page on emacswiki.org</a> for discussion.</p>
<h2 id="manual-installation">Manual installation</h2>
<p>You can also install Ebib manually by copying the file <code>ebib.el</code> to somewhere in your load path and add the following line to Emacs' init file <code>~/.emacs</code>:</p>
<pre><code>(autoload &#39;ebib &quot;ebib&quot; &quot;Ebib, a BibTeX database manager.&quot; t)</code></pre>
<p>On a default installation, the load path probably only contains system directories. If you want to run <code>ebib.el</code> from somewhere else (e.g., directly from the source directory), you can add this directory to your load path:</p>
<pre><code>(add-to-list &#39;load-path &quot;~/src/ebib&quot;))</code></pre>
<p>Note: if you do not know what your load path is set to, go to the <code>*scratch*</code> buffer, type <code>load-path</code> on an empty line, put the cursor right after it and type <code>C-j</code>. The value of <code>load-path</code> will then appear in the buffer.</p>
<p>Alternatively, you can load Ebib directly by putting the following in <code>.emacs</code>:</p>
<pre><code>(load &quot;/path/to/ebib&quot;)</code></pre>
<p>The difference between <code>load</code> and <code>autoload</code> is that the former loads Ebib immediately and thus slows down Emacs' startup (a bit), while the latter loads Ebib only when it is called (and thus slows down Ebib's first time start up a bit).</p>
<p>It is recommended to byte-compile the source, Ebib runs quite a lot faster when it is byte-compiled. You can do this either within Emacs with <code>M-x byte-compile-file</code> (recommended on OS X), or from your shell by going into the directory where you put <code>ebib.el</code> and typing:</p>
<pre><code>emacs -batch -f batch-byte-compile ebib.el</code></pre>
<p>This will create a file <code>ebib.elc</code>, which Emacs will load instead of <code>ebib.el</code></p>
<h2 id="installing-the-info-file">Installing the info file</h2>
<p>If you install Ebib through the package manager, the Info file is installed automatically as well. However, if you install Ebib manually, or run it from the source directory, this is not the case. If you want the Info file to be accessible from within Emacs, you need to put it in a directory where Emacs can find it. One way to do this is to put <code>ebib.info</code> in one of the standard info directories. Make sure to run <code>install-info ebib.info dir</code>, so that Emacs knows about the new info file.</p>
<p>Alternatively, you can leave <code>ebib.info</code> in Ebib's source directory and add that dir to <code>Info-additional-directory-list</code>. It contains a suitable <code>dir</code> file, so there's no need to run <code>install-info</code>.</p>
<h2 id="starting-ebib">Starting Ebib</h2>
<p>Once Ebib has been installed and is loaded, you can start it with <code>M-x ebib</code>. This command is also used to return to Ebib when you have put the program in the background. You can bind this command to a key sequence by putting something like the following in Emacs' init file:</p>
<pre><code>(global-set-key &quot;\C-ce&quot; &#39;ebib)</code></pre>
<p>You can of course choose any key combination you like. (In Emacs, key combinations of <code>C-c</code> <code>&lt;letter&gt;</code> are reserved for the user, so that no package may set them.)</p>
<p>You can also call Ebib from an Eshell command line. This in itself is entirely unspectacular (in Eshell, you can invoke any Emacs function), but the nice thing is that you can then provide a filename to load. So, provided a file <code>references.bib</code> exists in <code>~/Work/Papers/</code>, the following command:</p>
<pre><code>~/Work/Papers $ ebib references.bib</code></pre>
<p>starts Ebib and loads the file <code>references.bib</code>.</p>
<h1 id="basic-usage">Basic Usage</h1>
<p>A BibTeX database is somewhat of a free-form database. A BibTeX entry consists of a set of field-value pairs. Furthermore, each entry is known by a unique key. The way that Ebib navigates this database is by having two windows, one that contains a list of all the entry keys in the database, and one that contains the fields and values of the currently highlighted entry.</p>
<p>When Ebib is started, the current windows in Emacs are hidden and the Emacs frame is divided into two windows. The top one contains a buffer that is called the <em>index buffer</em>, while the lower window contains the <em>entry buffer</em>. When a database is loaded, the index buffer holds a list of all the keys in the database. You can move through these keys with the cursor keys. In the entry buffer, the fields of the currently highlighted entry are shown, with their values.</p>
<p>In this chapter, all basic functions of Ebib are described, so that you can get startet with it. At times, reference will be made to later chapters, where more specific functions are described.</p>
<p>Ebib has a menu through which most functions can be accessed. Especially some of the lesser used functions can only be accessed through the menu (unless you assign key shortcuts to them, of course.)</p>
<h2 id="getting-started">Getting Started</h2>
<p>Ebib is started with the command <code>M-x ebib</code>. Entering this command hides all the windows in the current Emacs frame and replaces them with two windows: the top one contains the index buffer, the bottom one, taking up the larger part of the screen, contains the entry buffer. The index buffer is named <code>none</code>, to indicate that no database has been loaded. If you open a database, or start a new one, the index buffer will carry its name.</p>
<p>You can quit Ebib by typing <code>q</code>. You will be asked for confirmation, and you will receive a warning if you happen to have an unsaved database. The command <code>z</code> can also be used to leave Ebib. However, unlike <code>q</code>, which completely quits Ebib, <code>z</code> only lowers it, so that it remains active in the background. The <code>.bib</code> files that you have opened remain loaded, and you can return to them by typing <code>M-x ebib</code> again.</p>
<h3 id="opening-a-.bib-file">Opening a <code>.bib</code> File</h3>
<p>Loading a <code>.bib</code> file into Ebib is done with the command <code>o</code>. Ebib reads the file that you specify, and reports how many entries it found, how many <code>@string</code> definitions it found, and whether a <code>@preamble</code> was found. Note that when Ebib reads a <code>.bib</code> file, it only reads entry types (e.g. <code>book, article, phdthesis</code> etc.) that it knows about. Fields (e.g. <code>author, title, year</code> etc.) that Ebib does not know about, are loaded (and saved) but not displayed, so they cannot be edited. Therefore, you should make sure that all the entry types and fields that your databases use are defined. A sensible set has been predefined, so that anyone who's using standard BibTeX entry types should have no problem loading an existing <code>.bib</code> file into Ebib. If, however, you have custom entry types, or custom fields in your <code>.bib</code> files, you should define them. This can be done by selecting &quot;Options | Modify Entry Types&quot; from the Ebib menu. (See also the chapter on customising Ebib, esp. <a href="#entry-types">Entry Types</a>.)</p>
<p>Every time Ebib reads a <code>.bib</code> file, it produces a few log messages. These are written into a special buffer <code>*Ebib-log*</code>. If Ebib encounters entry types in the <code>.bib</code> file that it doesn't know, it will log a warning. If Ebib finds something that it believes to be incorrect, an error will be logged. If any warnings or errors occur while loading the <code>.bib</code> file, Ebib tells you so after loading the file. To view the log file, press <code>l</code> in the index buffer.</p>
<p>Note that if Ebib detects warnings or errors, it will simply skip the offending entry and continue parsing the rest of the <code>.bib</code> file. That means that entries in which an error occurs are not read, and if you then save the file, they will not be saved. So keep an eye out for error messages after loading a <code>.bib</code> file: if there is something that Ebib cannot parse, you may lose entries. (Though Ebib will create a backup before overwriting a file.)</p>
<h3 id="preloading-.bib-files">Preloading <code>.bib</code> Files</h3>
<p>Chances are that you will be doing most of your work with one or a few <code>.bib</code> files, and you may find yourself opening the same file or files every time you start Ebib. If so, you can tell Ebib to always load specific <code>.bib</code> files on startup. To do this, specify the files in Ebib's customisation buffer, under the option <a href="#preload-bib-files">Preload Bib Files</a>.</p>
<p>By default, <code>.bib</code> files are searched for in your home directory. Since this is most likely not where you keep the files, you need to specify either the file's full path or a relative path starting from your home directory. Alternatively, you can customize the option <a href="#preload-bib-search-dirs">Preload Bib Search Dirs</a> to specify one or more directories in which Ebib should search the <code>.bib</code> files.</p>
<h3 id="navigating-a-.bib-file">Navigating a <code>.bib</code> File</h3>
<p>Once you've opened a <code>.bib</code> file, the keys of all the entries in the file are shown in alphabetical order in the index buffer in the top Ebib window. (In fact, it is possible to show more than just the entry key in this buffer. See <a href="#index-display-fields">Index Display Fields</a> on how to accomplish this.) The first entry is highlighted, meaning it is the current entry. The fields it holds and their values are shown in the entry buffer in the bottom Ebib window. The first field is the type field, which tells you what kind of entry you're dealing with (i.e. <code>book</code>, <code>article</code>, etc.).</p>
<p>Below the type field, Ebib displays (up to) three sets of fields. The first set are the so-called obligatory fields, the fields that BibTeX requires to be filled. The second group are the optional fields, which do not have to be filled but which BibTeX will normally add to the bibliography if they do have a value. The third group are the so-called additional fields. These fields are usually ignored by BibTeX (note that BibTeX normally ignores <em>all</em> fields it does not know), although there are bibliography styles that treat some of these fields as optional rather than as additional; (i.e., the <code>harvard</code> styles do typeset the <code>url</code> field, if present.)</p>
<p>The first two groups of fields are different for each entry type, while the third group are common to all entry types. You can use the additional fields, for example, to add personal comments to the works in your database. Ebib by default defines the following additional fields: <code>crossref</code>, <code>url</code>, <code>annote</code>, <code>abstract</code>, <code>keywords</code>, <code>file</code> and <code>timestamp</code>. If these are not sufficient for you, you need to customise Ebib and add your own fields. (See <a href="#additional-fields">Additional Fields</a>, if you need to find out how to do that.)</p>
<p>To move around in the index buffer, you can use the <code>up</code> and <code>down</code> cursor keys, <code>C-p</code> and <code>C-n</code>, or for those more used to mutt's key bindings, <code>k</code> and <code>j</code>. Furthermore, <code>Space</code> and <code>PgDn</code> move a screenful of entries down, while <code>b</code> and <code>PgUp</code> move in the other direction. Lastly, <code>g</code> and <code>Home</code> move to the first entry, while <code>G</code> and <code>End</code> move to the last one.</p>
<p>Ebib is not restricted to opening just one <code>.bib</code> file at a time. You can open more files by just typing <code>o</code> again and entering the filename. Ebib numbers the databases: the number of each database is shown in the mode line of the index buffer, directly before the database name. The keys 1--9 provide a quick way of jumping from one database to another. Note that the numbering is dynamic: if you have three databases opened and then close the second, database 3 becomes database 2.</p>
<p>With the <code>left</code> and <code>right</code> cursor keys, you can move to the previous or next database. These keys wrap, so if you hit the <code>left</code> cursor key while the first database is active, you move to the last database. If you are done with a database and want to close it, type <code>c</code>. This closes the current database. It does not leave Ebib, and all other databases you have open will remain so.</p>
<h3 id="starting-a-new-.bib-file">Starting a New <code>.bib</code> File</h3>
<p>If you want to start a new <code>.bib</code> file from scratch, you cannot just go and enter entries. You first have to give the database a name. So, to start a new database, type <code>o</code> first, and give the new file a name. Once you have done this, you can start adding entries to the database.</p>
<h2 id="editing-the-database">Editing the Database</h2>
<p>Of course, being able to open and view <code>.bib</code> files is only half the fun. One needs to be able to edit the files as well. Ebib's essential editing facilities are discussed here.</p>
<h3 id="adding-and-deleting-entries">Adding and Deleting Entries</h3>
<p>To add an entry to a database, you type <code>a</code>. When you do this, Ebib first asks you for an entry key, as every entry must be identified by a unique key. Just type a name for the new entry (say <code>Jones1998</code>). Since the entry key must be unique, Ebib will complain if you enter a key that already exists.</p>
<p>You can also have Ebib automatically generate entry keys: if you set the customisation option <a href="#autogenerate-keys">Autogenerate Keys</a>, Ebib does not ask you for a key when you add a new entry. Instead, it creates a temporary key (of the form <code>&lt;new-entry&gt;</code>). When you have finished entering the field values for the new entry, Ebib automatically replaces the temporary key with a key that is based on the contents of the <code>author</code> (or <code>editor</code>), <code>year</code> and <code>title</code> fields.</p>
<p>Note that if you should later decide that you want to change the key of an entry, you can do so with the command <code>E</code>. So if you have an entry with the key <code>Jones1998</code> and you want to add another entry by Jones from 1998, you can call the new one <code>Jones1998b</code> and rename the existing one to <code>Jones1998a</code>. Similarly, it is possible to let Ebib recreate an autogenerated key by pressing <code>K</code>.</p>
<p>Deleting an entry is done with <code>d</code>. Be careful with this: you will be asked for confirmation, but once you've confirmed, the entry is gone, and it is not possible to bring it back. There is no undo in Ebib. (If you haven't saved the database yet, it is still possible to retrieve the deleted entry from the <code>.bib</code> file, and otherwise it may still be in the backup file that Ebib creates. See <a href="#saving-a-database">Saving a Database</a>.)</p>
<h3 id="editing-fields-values">Editing Fields Values</h3>
<p>Editing the field values for an entry is done in the lower of the two Ebib buffers, the so-called entry buffer. You can move focus to the entry buffer by typing the command <code>e</code> in the index buffer.</p>
<p>You can move between fields with the same keys that you use to move between entries in the index buffer: the cursor keys <code>up</code> and <code>down</code>, <code>C-p</code> and <code>C-n</code>, or <code>j</code> and <code>k</code>. <code>Space</code> and <code>PgDn</code> move to the next set of fields, while <code>PgUp</code> and <code>b</code> move to the previous set of fields. <code>g</code> and <code>G</code>, and <code>Home</code> and <code>End</code> also work as expected.</p>
<p>Editing a field value can be done with <code>e</code>. (In fact, in the entry buffer, <code>RET</code> is equivalent to <code>e</code>.) For most fields, Ebib simply asks you for a string value in the minibuffer. (Here, <code>RET</code> confirms the edit, while <code>C-g</code> cancels it.) Although BibTeX requires that field values be surrounded by braces {} (or double quotes &quot;&quot;, but Ebib does not use those, even though it can of course handle them when they are used in an existing <code>.bib</code> file) you do not need to type these. Ebib adds them when it saves the <code>.bib</code> file.</p>
<p>Some fields, however, are handled in a special way. The first of these is the <code>type</code> field: if you edit this field, you must enter one of the predefined entry types. Ebib won't allow you to enter anything else. You can use tab-completion in this case. Similarly, if you edit the <code>crossref</code> field, Ebib requires that you fill in a key from the database. Here, too, you can use tab-completion. The fields <code>keywords</code> and <code>file</code> are also treated differently, see <a href="#managing-keywords">Managing keywords</a> and <a href="#viewing-files">Viewing Files</a>, respectively.</p>
<p>Note that if you're adding a new entry, Ebib automatically puts you in the entry buffer after you've typed the entry key: you don't have to type <code>e</code> to move to the entry buffer. When creating a new entry, it is best to set the <code>type</code> field first, because the <code>type</code> field determines which other fields are available for an entry.</p>
<p>Note also that after editing a field, Ebib (usually) puts you on the next field. This is convenient if you're creating a new entry and need to fill out several fields in a row.</p>
<p>If you're done editing the fields of the entry, type <code>q</code> to move focus back to the index buffer. (Note: keys may have different functions in the index buffer and the entry buffer. <code>q</code> is a typical example: in the entry buffer, it quits editing the entry and moves focus back to the index buffer. In the index buffer, however, <code>q</code> quits Ebib.)</p>
<h3 id="editing-multiline-values">Editing Multiline Values</h3>
<p>Apart from the <code>type</code> and <code>crossref</code> field, there is another field that Ebib handles in a special way when you edit its value. This is the <code>annote</code> field. Most field values normally consist of a single line of text. However, because the <code>annote</code> field is meant for creating annotated bibliographies, it would not be very useful if you could only write one line of text in this field. Therefore, when you edit the <code>annote</code> field, Ebib puts you in the so-called <em>multiline edit buffer</em>. This is essentially a text mode buffer that allows you to enter as much text as you like. To store the text and leave the multiline edit buffer, type <code>C-c | q</code>.</p>
<p>If you want to leave the multiline edit buffer without saving the text you have just typed, type <code>C-c | c</code>. This command cancels the edit and leaves the multiline edit buffer. The text that is stored in the field you were editing is not altered.</p>
<p>Multiline values are not restricted to the <code>annote</code> field. Any field can in fact hold a multiline value. (Except of course the <code>type</code> and <code>crossref</code> fields.) To give a field a multiline value, use <code>l</code> instead of <code>e</code>. You will again be put in the multiline edit buffer, where you can edit the value. Note that you can use <code>l</code> even if a field already has a single line value. Ebib will just make that the first line in the multiline edit buffer.</p>
<p>When a field has a multiline value, only the first line is shown in the entry buffer, for space reasons. To indicate that the value is multiline, a plus sign <code>+</code> is placed in front of the value.</p>
<p>By the way, the <code>e</code> key is smart about the way an entry must be edited. If you press <code>e</code> on a field that already has a multiline value, regardless of the fact whether it is the <code>annote</code> field or not, Ebib puts you in the multiline edit buffer. Therefore, you need <code>l</code> only if you want to give a field a multiline value when it doesn't have one yet.</p>
<p>For more details on working with the multiline edit buffer, see <a href="#the-multiline-edit-buffer">The Multiline Edit Buffer</a>.</p>
<h3 id="copy-cut-paste-yank-and-delete">Copy, Cut, Paste (Yank), and Delete</h3>
<p>A few more commands are available when you're in the entry buffer editing field values. The commands <code>c</code>, <code>x</code> and <code>y</code> implement a copy and paste system: <code>c</code> copies the contents of the current field to the kill ring, <code>x</code> kills the contents of the current field to the kill ring, and <code>y</code> yanks (pastes) the most recently killed text in the kill ring. You can type <code>y</code> repeatedly to get the same effect you get in Emacs when you type <code>M-y</code> after an initial <code>C-y</code>: every additional use of <code>y</code> moves back in the kill ring.</p>
<p>Lastly, there is the command <code>d</code>, which deletes the contents of the current field without storing the text in the kill ring. (It asks for confirmation, though, just to make sure.)</p>
<p>Note that <code>y</code> only works when the current field does not have a value yet. This is to prevent you from accidentally overwriting a field value. If you do want to yank text into a field that already has a value, simply hit <code>d</code> first to delete the text.</p>
<h2 id="saving-a-database">Saving a Database</h2>
<p>When you have undertaken any kind of editing action on a database, it is marked as modified, which is indicated in the mode line for the index buffer. A modified database can be saved by typing <code>s</code>. This saves the database to the file it was loaded from without asking for confirmation. (It is similar to <code>C-x C-s</code> in Emacs.) If you're saving a file for the first time after loading it, Ebib creates a backup file. (Ebib honours <code>backup-directory-alist</code> when saving backups. Note that you can also disable backups altogether with the option <a href="#create-backups">Create Backups</a>.</p>
<p>If you have multiple databases open, have made changes in more than one of them, and want to save all of them without going through each yourself, you can save all databases at once through the menu.</p>
<p>The menu also provides a way to save the database to another name (or use <code>M-x ebib-write-database</code>). This command is similar to <code>C-x C-w</code> in Emacs, so that after using it, the new <code>.bib</code> file becomes associated with the database.</p>
<h2 id="searching">Searching</h2>
<p>Ebib provides several search methods. First, if you are in the index buffer, the normal Emacs incremental searches, <code>C-s</code> and <code>C-r</code>, function as expected. You can use them to search entry keys. Note that once you've found the key you're searching, you must hit <code>RET</code> to quit the search and again <code>RET</code> to make the entry you found active. Ebib does not update the entry buffer during incremental search, as this would be rather pointless: you're only interested in the entry you're searching for, not in the entries you pass along the way.</p>
<p>Of course, it is also possible to search the database itself. If you type <code>/</code>, Ebib asks you for a search term. This can be a regular expression, to allow for flexibility in searching. After hitting <code>RET</code>, Ebib will start searching the database (starting from the current entry, <em>not</em> from the first entry!) and will display the entry with the first occurrence of the search string that it finds. All the occurrences of the search string in that entry are highlighted.</p>
<p>Ebib searches all the fields of each entry. It is not possible with <code>/</code> to specify the fields to search. Note that if the search term is found in a field with a multiline value, Ebib will highlight the <code>+</code> sign that it displays in front of the field value. Keep an eye out for this when doing a search, because Ebib only shows the first line of multiline values, and if the search term appears in another line, the highlighted <code>+</code> is the only indication that the search term was found. (Well, that and the fact that Ebib does <em>not</em> say <code>Search string not found</code>, of course...)</p>
<p>A search term may of course appear more than once in the database. To search for the next occurrence, type <code>n</code>. This will continue searching for the search string in the rest of the database. Again, the first entry found to contain the search string is displayed. Note that <code>n</code> does not wrap: if the end of the database is reached, Ebib stops searching. To continue searching from the top, hit <code>g</code> and then <code>n</code>.</p>
<p>The functions described here form Ebib's basic search functionality. Ebib also has a much more powerful search mechanism in the form of <em>filters</em>. These are described in <a href="#filters">Filters</a>.)</p>
<h2 id="consulting-bibtex-databases-outside-ebib">Consulting BibTeX Databases outside Ebib</h2>
<p>Having a BibTeX database manager running inside Emacs has an additional advantage: it makes it easy to consult your BibTeX databases from a text buffer. By default, this functionality is set up for LaTeX, for <a href="http://orgmode.org">Orgmode</a> and for <a href="http://johnmacfarlane.net/pandoc/">Pandoc</a> Markdown.</p>
<p>In any (text mode) buffer, you can call the command <code>ebib-insert-bibtex-key</code> to insert a citation. When you invoke this command, Emacs prompts you for a key from the database(s) associated with the current buffer, a citation command and any optional argument(s) the command allows. You can use TAB-completion to enter a citation key, and after hitting <code>RET</code>, Emacs puts a citation at the cursor position in the current buffer with the key you selected. This citation includes the additional markup for the text mode in question. That is, if you call <code>ebib-insert-bibtex-key</code> from a LaTeX buffer, Ebib inserts <code>\&lt;cite&gt;{&lt;key&gt;}</code> into your buffer, substituting the citation command you select for <code>&lt;cite&gt;</code> and the key for <code>&lt;key&gt;</code>.</p>
<p>You can also do it the other way around: if you're in the index buffer in Ebib, you can push an entry to a text buffer. To do this, use the command <code>p</code>. Ebib will ask you for a buffer to push the entry to, a citation command and also any optional arguments, and then inserts a citation at the current cursor position in the buffer you've supplied.</p>
<p>The citation command that <code>ebib-insert-bibtex-key</code> and the command key <code>p</code> ask for have to be defined before you can use them. How to do this is explained below, see <a href="#defining-citation-commands">Defining Citation Commands</a>. For LaTeX, only the <code>\cite</code> command is set up by default, so you may want to add some commands. In Orgmode files, Ebib inserts a link of the form <code>[[ebib:Jones1992][Jones (1992)]]</code>. (Actually, you'll need to provide the <code>Jones (1992)</code> yourself, when Ebib asks for a description.) If you use this, you should add the following line to your init file:</p>
<pre><code>(org-add-link-type &quot;ebib&quot; &#39;ebib-open-org-link)</code></pre>
<p>This will allow Orgmode to recognise Ebib links and allow you to jump to the BibTeX entry in Ebib using <code>C-c C-o</code> (<code>org-open-at-point</code>, the normal Orgmode command for following links). Note that such org links aren't properly translated to LaTeX citation commands when you export your org file. For that, you'll need to set up a different link type for each citation command and provide functions for exporting them to LaTeX. The orgmode documentation explains how this is done. (You can, in fact, create similar functions for exporting to other formats.)</p>
<p>If you use <code>ebib-insert-bibtex-key</code> in Pandoc Markdown, you can choose between three citation commands: <code>text</code>, which inserts a citation of the form <code>@Jones1992</code>, <code>paren</code>, which inserts a citation of the form <code>[@Jones1992]</code> and <code>year</code>, which inserts <code>[-@Jones1992]</code>. Since these are the only types of citations that Pandoc Markdown knows, you shouldn't need to change anything.</p>
<p>Calling Ebib from a text mode buffer has another small advantage. If point is on a BibTeX key when Ebib is called, it jumps to that entry in your database. This allows you to quickly check a reference in your text. Ebib will search the entry in the current database, or, if you're calling Ebib from a LaTeX file and there is a <code>\bibliography</code> or <code>\addbibresource</code> command in the file, in the databases in these commands, if they are opened in Ebib. See <a href="#associating-a-database-with-a-latex-file">Associating a Database with a LaTeX File</a> below for details.</p>
<p>There is one more command that can be useful for LaTeX users: <code>ebib-create-bib-from-bbl</code> creates a <code>.bib</code> file from the <code>.bbl</code> file associated with the LaTeX document in the current buffer. This makes it easy to create a <code>.bib</code> file containing just the BibTeX entries that are used in the document. Note, however, that this command does not add cross-referenced entries to the newly created <code>.bib</code> file, nor does it add <code>@string</code> definitions and the <code>@preamble</code>. So make sure to add those after using <code>ebib-create-bib-from-bbl</code>. (Improving this functionality is on the TODO-list.)</p>
<h3 id="key-bindings">Key Bindings</h3>
<p>Of course, the easiest way to use the commands discussed here is to bind them to a key sequence. For example, the following binds <code>C-c b</code> to <code>ebib-insert-bibtex-key</code> in AUCTeX's LaTeX mode:</p>
<pre><code>(define-key &#39;LaTeX-mode-map &quot;\C-cb&quot; &#39;ebib-insert-bibtex-key)</code></pre>
<p>Note that commands of the form <code>C-c &lt;letter&gt;</code> are reserved for the user, and should therefore not be set by any package. For this reasons, Ebib does not set this command automatically.</p>
<p><code>ebib-insert-bibtex-key</code> recognises the major mode of the buffer it is called from and uses this information to determine which kinds of citations to insert. So you can bind the <code>ebib-insert-bibtex-key</code> to the same key sequence in every text mode in which you use citations and Ebib will do the right thing.</p>
<h3 id="defining-citation-commands">Defining Citation Commands</h3>
<p>As mentioned, you should probably set up some citation commands if you use Ebib with LaTeX documents. The customisation option that allows you to do this is <a href="#citation-commands">Citation Commands</a>.</p>
<p>Citation commands are defined for specific major modes. You can also define commands for all modes under the heading <code>any</code>. (By default, this option is used for LaTeX commands, since there is more than one Emacs mode for (La)TeX). Each command consists of an identifier, which you type when Ebib prompts you for a citation command, plus a format string, which is used to create the actual citation command.</p>
<p>The identifier should be a simple string which you can type easily when Ebib asks you for a citation command (TAB completion is available, though). The format string can contain a few directives, which are used to add the citation key and any optional arguments. The following directives are recognised:</p>
<dl>
<dt><code>%K</code></dt>
<dd>the entry key to be inserted.
</dd>
<dt><code>%A</code></dt>
<dd>an argument, for which the user is prompted.
</dd>
<dt><code>%&lt;...%&gt;</code></dt>
<dd>optional material surrounding a <code>%A</code> directive.
</dd>
<dt><code>%(...%&lt;sep&gt;)</code></dt>
<dd>a so-called <em>repeater</em>, which contains material that can be repeated. If present, the repeater must contain the entry key directive <code>%K</code>.
</dd>
<dt><code>%D</code></dt>
<dd>a description, for which the user is prompted. Mainly for use in Orgmode.
</dd>
</dl>
<p>In the simplest case, the format string contains just a <code>%K</code> directive: <code>\cite{%K}</code>. In this case, <code>%K</code> is replaced with the citation key and the result inserted. Usually, however, citation commands allow for optional arguments that are formatted as pre- or postnotes to the citation. For example, using the <code>natbib</code> package, you have citation commands available of the form:</p>
<pre><code>\citet[cf.][p. 50]{Jones1992}</code></pre>
<p>In order to be able to insert such citations, the format string must contain <code>%A</code> directives:</p>
<pre><code>\citet[%A][%A]{%K}</code></pre>
<p>With such a format string, Ebib asks the user to provide text for the two arguments and inserts it at the locations specified by the directives. Of course, it is possible to leave the arguments empty (by just hitting <code>RET</code>). With the format string above, this would yield the following citation in the LaTeX buffer:</p>
<pre><code>\citet[][]{Jones1992}</code></pre>
<p>The empty brackets are completely harmless, because LaTeX will simply ignore the empty arguments. However, you may prefer for the brackets not to appear if the arguments are empty. In that case, you can wrap the brackets and the <code>%A</code> directives in a <code>%&lt;...%&gt;</code> pair:</p>
<pre><code>\citet%&lt;[%A]%&gt;%&lt;[%A]%&gt;{%K}</code></pre>
<p>Now, if you leave the arguments empty, Ebib produces the following citation:</p>
<pre><code>\citet{Jones1992}</code></pre>
<p>Note however, that in this case there is in fact one problem associated with this format string. If you fill out the first argument but not the second, Ebib produces the wrong format string:</p>
<pre><code>\citet[cf.]{Jones1992}</code></pre>
<p>If only one optional argument is provided, <code>natbib</code> assumes that it is a postnote, while what you intended is actually a prenote. Therefore, it is best not to make the second argument optional:</p>
<pre><code>\citet%&lt;[%A]%&gt;[%A]{%K}</code></pre>
<p>This way, the second pair of brackets is always inserted, regardless of whether you provide a second argument or not.</p>
<p><code>Natbib</code> commands also accept multiple citation keys. When you call <code>ebib-insert-bibtex-key</code> from within a LaTeX buffer, you can only provide one key, but when you're in Ebib, you can mark multiple entry keys and then use <code>; p</code> to push them to a buffer. In this case, Ebib asks you for a separator and then inserts all keys into the position of <code>%K</code>:</p>
<pre><code>\citet{Jones1992,Haddock2004}</code></pre>
<p>It is, however, also possible to specify in the format string that a certain sequence can be repeated and how the different elements should be separated. This is done by wrapping that portion of the format string that can be repeated in a <code>%(...%)</code> pair. Normally, you'll want to provide a separator, which is done by placing it between the <code>%</code> and the closing parenthesis:</p>
<pre><code>\citet[%A][%A]{%(%K%,)}</code></pre>
<p>This format string says that the directive <code>%K</code> can be repeated and that multiple keys must be separated with a comma. The advantage of this is that you are no longer asked to provide a separator.</p>
<p>It is also possible to put <code>%A</code> directives in the repeating part. This is useful for the <code>biblatex</code> package. <code>Biblatex</code> has so-called <em>multicite</em> commands, which take the following form:</p>
<pre><code>\footcites[cf.][p. 50]{Jones1992}[][p. 201]{Haddock2004}</code></pre>
<p>Multicite commands can take more than one citation key in braces <code>{}</code> and each of those citation keys can take two optional arguments in brackets <code>[]</code>. In order to get such citations, you can provide the following format string:</p>
<pre><code>\footcites%(%&lt;[%A]%&gt;[%A]{%K}%)</code></pre>
<p>Here, the entire sequence of two optional arguments and the obligatory citation key is wrapped in <code>%(...%)</code>, so that Ebib knows it can be repeated. If you now mark multiple entries in Ebib, press <code>; p</code> and select the <code>footcites</code> command, Ebib will put all the keys in the citation, asking you for two arguments for each citation key.</p>
<p>Of course it is also possible to combine parts that are repeated with parts that are not repeated. In fact, that already happens in the previous example, because the part <code>\footcites</code> is not repeated. But the part that is not repeated may contain <code>%A</code> directives as well:</p>
<pre><code>\footcites%&lt;(%A)%&gt;(%A)%(%&lt;[%A]%&gt;[%A]{%K}%)</code></pre>
<p>Multicite commands in <code>biblatex</code> take two additional arguments surrounded with parentheses. These are pre- and postnotes for the entire sequence of citations. They can be accommodated as shown.</p>
<p>Lastly, a citation command can also contain a <code>%D</code> directive. This is mainly for use in Orgmode citations, which take the form <code>[[ebib:&lt;key&gt;][&lt;description&gt;]]</code>. The description is not an argument to the citation command but the string that will be displayed in the Orgmode buffer.</p>
<h3 id="associating-a-database-with-a-latex-file">Associating a Database with a LaTeX File</h3>
<p>The commands <code>ebib-insert-bibtex-key</code> and <code>ebib-entry-summary</code> must consult the database or databases loaded in Ebib, and Ebib tries to be smart about which database(s) to consult. Usually, a LaTeX file has a <code>\bibliography</code> command somewhere toward the end, which names the <code>.bib</code> file or files that contain the bibliography entries. If you consult a BibTeX database from within a LaTeX file, Ebib first looks for a <code>\bibliography</code> command, reads the names of the <code>.bib</code> file(s) from it, and then sees if those files happen to be open. If they are, Ebib uses them to let you pick an entry key (in the case of <code>ebib-insert-entry-key</code>) or to search for the entry (in the case of <code>ebib-entry-summary</code>).</p>
<p>Of course, it may be the case that the LaTeX file is actually part of a bigger project, and that only the master file contains a <code>\bibliography</code> command. To accommodate for this, Ebib checks whether the (buffer-local) variable <code>TeX-master</code> is set to a filename. If it is, it reads that file and tries to find the <code>\bibliography</code> command there. (Note: <code>TeX-master</code> is an AUCTeX variable, which is used to keep track of multi-file projects. If you don't use AUCTeX, this functionality doesn't work, and Ebib will only check the current file for a <code>\bibliography</code> command.)</p>
<p>Note that if one of the <code>.bib</code> files in the <code>\bibliography</code> command isn't loaded, Ebib issues a warning message about this, and continues to check for the next <code>.bib</code> file. These warning messages appear in the minibuffer, but are probably directly overwritten again by further messages or prompts Ebib produces, so check the <code>*Messages*</code> buffer if Ebib doesn't seem to be able to find an entry that you're sure is in one of your databases.</p>
<p>Another thing to keep in mind is that Ebib only looks for a <code>\bibliography</code> command once: the first time either <code>ebib-insert-bibtex-entry</code> or <code>ebib-entry-summary</code> is called. It stores the result of this search and uses it the next time either of these commands is used. Therefore, if you make a change to the <code>\bibliography</code> command, you must reload the file (use <code>M-x revert-buffer</code> or <code>C-b C-v RET</code>) to make sure Ebib rereads the <code>\bibliography</code> command.</p>
<p>If no <code>\bibliography</code> command is found at all, either in the LaTeX file itself, or in the master file, Ebib simply consults the current database, i.e. the database that was active when Ebib was lowered with <code>z</code>. This is also what Ebib does for Orgmode or Pandoc Markdown files, since they do not have the equivalent of a bibliography command.</p>
<h2 id="cross-referencing">Cross-referencing</h2>
<p>BibTeX has a cross-referencing facility. Suppose you have an entry <code>Jones1998</code>, which appeared in a book that is also in your database, say under <code>Miller1998</code>. You can tell BibTeX that <code>Jones1998</code> is contained in <code>Miller1998</code> by putting <code>Miller1998</code> in the <code>crossref</code> field. When BibTeX finds such a cross-reference, all the fields of <code>Jones1998</code> that don't have a value inherit their values from <code>Miller1998</code>. At the very least, this saves you some typing, but more importantly, if two or more entries cross-reference the same entry, BibTeX automatically includes the cross-referenced entry in the bibliography (and puts a reduced reference in the cross-referencing entries).</p>
<p>When you fill in the <code>crossref</code> field in Ebib, Ebib displays the values of the cross-referenced entry in the entry buffer. To indicate that they are just inherited values, they are marked with <code>ebib-crossref-face</code>, which by default is red. (You can customise it, of course. See the customisation option <a href="#crossref-face">Crossref Face</a>.) These values are merely displayed for convenience: they cannot be edited. (They can be copied, however).</p>
<p>BibLaTeX has a more sophisticated cross-referencing mechanism. While cross-referencing entries simply inherit the fields of the same name from the cross-referenced entry in BibTeX, BibLaTeX has the option to specify that, e.g., the <code>booktitle</code> field of the entry type <code>incollection</code> inherits from the <code>title</code> field of the cross-referenced entry. If you want Ebib to honour such inheritances, you can customise the variable <code>ebib-biblatex-inheritances</code>. This variable allows you to specify inheritance relations for individual entry types, or, by specifying <code>all</code> as the entry type, for all entry types. (Note that the former always override the latter.) Currently, this support for BibLaTeX is still rudimentary. It will be improved in the future, but for the moment it should help you get started if you use BibLaTeX.</p>
<p>If you're viewing an entry that has a cross-reference and you want to go to the cross-referenced entry you can type <code>C</code>. This command reads the value of the <code>crossref</code> field and then displays that entry. If you want to do the reverse, i.e., see if the current entry is cross-referenced by any other entries, you can use the same key <code>C</code>: if you type <code>C</code> on an entry that does not have a cross-reference, Ebib makes the key of the current entry the current search string and searches for its first occurrence after the current entry. Note that after Ebib has jumped to the first cross-referencing entry, you cannot type <code>C</code> again to find the next one. (Instead, it would take you back to the cross-referenced entry.) In order to find the next cross-referencing entry, you have to type <code>n</code>, as with a normal search.</p>
<p>Note that if you want to use BibTeX's cross-referencing options, you need to set the option <a href="#save-xrefs-first">Save Xrefs first</a>. This tells Ebib to save all entries with a <code>crossref</code> field first in the <code>.bib</code> file. Without this, BibTeX's cross-referencing will not work reliably.</p>
<h2 id="selecting-entries">Selecting Entries</h2>
<p>Commands in the index buffer generally operate on one single entry, or on all entries. For some commands, however, it may sometimes be useful to perform them on more than one entry, but not necessarily all of them. This can be achieved by selecting entries. You can select the entries you want to perform a command on with the key <code>m</code>. This selects (or unselects) the current entry. Selected entries are highlighted. (Note that the face properties of selected entries can be customised through the customisation option <a href="#selected-face">Selected Face</a>.)</p>
<p>Of the commands discussed so far, two can be used on selected entries: <code>d</code> and <code>p</code>. Note, however, that it is not enough to select the entries you want and then type any of these commands. If you do so, they will behave as if no entries were selected. To get these commands to work on the selected entries, you have to type a semicolon before them. That is, <code>; d</code> deletes all selected entries, <code>; p</code> pushes all selected entries to a LaTeX buffer. The command <code>m</code> itself can also be used with the <code>;</code> prefix. If there are any selected entries, <code>; m</code> unselects them all. Otherwise, <code>; m</code> selects all entries.</p>
<p>When using <code>; p</code> to push all selected entries to a LaTeX buffer, they are put in a single citation command, separated by commas. Ebib does not create a citation command for each entry separately.</p>
<h2 id="printing-the-database">Printing the Database</h2>
<p>Sometimes it may be useful to have a <code>.pdf</code> file or print-out of your database. Although Ebib does not actually do the printing itself, it can create a LaTeX file for you that you can compile and print. In fact, there are two ways of doing this.</p>
<p>The print options are available in the Ebib menu when the index buffer is active. You can print the entries as index cards or as a bibliography.</p>
<p>If you print your entries as a bibliography, Ebib creates a simple LaTeX document that essentially contains a <code>\nocite{*}</code> command followed by a <code>\bibliography</code> command referring to the <code>.bib</code> file belonging to the current database. You can then run the usual sequence of LaTeX, BibTeX, LaTeX, LaTeX on this file, creating a document containing a list of all the references in your database.</p>
<p>If you choose to print as index cards, Ebib also creates a LaTeX file. However, instead of simply providing a <code>\nocite{*}</code> command, this file contains a <code>tabular</code> environment for each entry in the database listing all the fields of that entry and their values.</p>
<p>The entries are separated by a <code>\bigskip</code>, but if you set the option <code>Print Newpage</code> in the customisation buffer (or in the Print menu), the entries are separated by a <code>\newpage</code>, so that every entry is on a separate page. The latter option is useful when printing actual index cards (though you'd probably have to change the page size with the <code>geometry</code> package as well).</p>
<p>By default, the index cards only show single-line field values. That is, multiline values are normally excluded. If you want to include multiline values in the print-out, you have to set the option <code>Print Multiline</code> in the Options menu or in Ebib's customisation buffer. (See <a href="#the-customisation-buffer">The Customisation Buffer</a>.) With this option set, Ebib includes all multiline values in the LaTeX file that it creates. Note however that Ebib does not change anything about the formatting of the text in a multiline value. So if you plan to make (heavy) use of this option, make sure that the way you type your text conforms to LaTeX's conventions (e.g. empty lines to mark paragraphs, etc.) and doesn't contain any characters such as <code>&amp;</code> that are illegal in LaTeX. (Or, alternatively, use LaTeX code in your multiline fields.)</p>
<p>As mentioned, when you &quot;print&quot; the database, Ebib really just creates a LaTeX file. More precisely, it creates a temporary buffer and writes the LaTeX code into it, and then saves the contents of that buffer to a file. After it has done that, Ebib lowers itself and instruct Emacs to open the file in a buffer, which will then be properly set up as a LaTeX buffer. From there you can run LaTeX and view the result.</p>
<p>Before doing all this, Ebib asks you which file to write to. Be careful with this: since this is supposed to be a temporary file, Ebib simply assumes that if you provide a filename of an existing file, it can overwrite that file without warning!</p>
<p>A better way to tell Ebib which file to use is to set the option <code>Print Tempfile</code> in Ebib's customisation buffer to some temporary file. When this option is set, Ebib will always use this file to write to, and will not ask you for a filename anymore.</p>
<p>Note that both print options operate on all entries of the database. If there are selected entries in the database, however, only those are printed.</p>
<p>There are two more customisation options for printing the database. These are <code>Print Preamble</code> and <code>LaTeX Preamble</code>. With these options, you can specify what Ebib should put in the preamble of the LaTeX files it creates. Use this if you want to use specific packages (e.g. <code>\usepackage{a4}</code> or <code>\usepackage{times})</code>. This is especially useful for printing a bibliography, since by default, Ebib uses BibTeX's standard bibliography style. With the option <code>LaTeX Preamble</code> you can set your preferred bibliography style. Details are discussed in the chapter on customisation, see <a href="#the-customisation-buffer">The Customisation Buffer</a>.</p>
<h2 id="calling-a-browser">Calling a Browser</h2>
<p>With more and more scientific literature becoming available on-line, it becomes common to store URLs and DOIs in a BibTeX database. Sometimes you may want to load such a URL or a DOI in your browser. Ebib provides a convenient way for doing so.</p>
<p>If you type <code>u</code> in the index buffer, Ebib takes the first URL stored in the <code>url</code> field of the current entry and passes it to your browser. Furthermore, in the entry buffer, you can use <code>u</code> on <em>any</em> field. If you happen to have more than one URL stored in the relevant field, and you want to pass the second (or third, etc.) to the browser, Ebib will ask you which one you want to open. Alternatively, you can use a prefix argument. So typing <code>M-2 u</code> sends the second URL to your browser.</p>
<p>It is not even necessary that the relevant field contains <em>only</em> URLs. It may contain other text mixed with the URLs: Ebib simply searches the URLs in the field and ignores the rest of the text. Ebib considers every string of characters that starts with <code>http://</code> or <code>https://</code> and that does not contain whitespace or any of the characters <code>&quot; ' ; &lt;</code> or <code>&gt;</code> as a URL. The semicolon is included here even though it is actually a valid character in URLs. This is done for consistency, because the semicolon (actually, semicolon+space) is the standard separator for files and keywords and in this way, you can use the same separator to distinguish multiple URLs in the <code>url</code> field. By default Ebib also regards everything that is enclosed in a LaTeX <code>\url{...}</code> command as a URL. So if you use <code>;</code> to separate URLs and then happen to run into a URL that contains a semicolon, you can enclose it in <code>\url{...}</code> and it will be recognised properly. You can, of course, customise the regular expression that controls this behaviour. See the option <a href="#url-regexp">Url Regexp</a> for details.</p>
<p>Similarly, with the key <code>i</code> in the index buffer you can send a DOI to a browser. The DOI must be stored in the <code>doi</code> field. Unlike URLs, there can only be one DOI in this field. The whole contents of the field is assumed to be the DOI and is sent to the browser. Ebib adds the URL <code>http://dx.doi.org/</code> before sending the DOI to the browser, so the <code>doi</code> field should contain just the DOI itself.</p>
<p>Ebib uses the Emacs function <code>browse-url</code> to call the default browser on the system. If you prefer to use another browser, however, you can specify this with the option <a href="#browser-command">Browser Command</a>. You can also customise the field that Ebib takes URLs from, with the option <a href="#standard-url-field">Standard Url Field</a>. The same can be done for the DOI field.</p>
<h2 id="viewing-files">Viewing Files</h2>
<p>If you have electronic versions of the papers in your database stored on your computer, or any other file associated with your entries (e.g., notes, if you store those in separate files) you can use Ebib to call external viewers for these files or have them opened in Emacs. The interface for this is similar to that for calling a browser: if you press <code>f</code> in the index buffer, Ebib searches the <code>file</code> field for a filename and when it finds one, calls an appropriate viewer. And just as with <code>u</code>, you can use <code>f</code> in the entry buffer as well, in which case it can be used on any field, not just the <code>file</code> field. It is also possible to have more than one filename in a field. In that case, Ebib asks you which one you want to open. If you want to open the first one you can just hit ENTER. Alternatively, you can provide a prefix argument: <code>M-2 f</code> for the second file, etc.</p>
<p>When you edit the <code>file</code> field, you should type one filename at a time (TAB completion works). When you hit ENTER, Ebib adds the filename to the <code>file</code> field, adding a separator if necessary, and then asks you for the next file. If you don't want to add another, just hit ENTER. The default separator is <code>&quot;; &quot;</code> (semicolon-space), but this can be customised (see <a href="#filename-separator">Filename Separator</a> for details).</p>
<p>With the option <a href="#file-search-dirs">File Search Dirs</a>, you can tell Ebib in which directories it should search for files in the <code>file</code> field. Ebib does not search directories recursively, but you can specify a relative path in the <code>file</code> field. That is, if you put something like <code>a/Abney1987.pdf</code> in the <code>file</code> field, Ebib searches for the relevant file in a subdirectory <code>a/</code> of the directories listed in the option File Search Dirs. As an extra service, Ebib also searches for the base filename, i.e., <code>Abney1987</code> in this particular case. Note, by the way, that the first directory in File Search Dirs is used as the starting directory for filename completion when editing the <code>file</code> field.</p>
<p>Ebib can call different external programs depending on the file extension of the relevant file. The option <a href="#file-associations">File Associations</a> allows you to specify which programs to call for which types of files. By default, <code>.pdf</code> and <code>.ps</code> files are handled, by <code>xpdf</code> and <code>gv</code>, respectively. You can specify further file types by their extensions (do not include the dot). The program is searched for in <code>PATH</code>, but you can of course specify the full path to the program. There is also the option to open files in Emacs. Use this if you have separate text files for notes, or if you want to read pdf files in Emacs with <code>doc-view-mode</code>.</p>
<h1 id="advanced-features">Advanced Features</h1>
<p>The features discussed in the previous chapter should be sufficient to get started using Ebib. However, Ebib has several more advanced features, which are described in this chapter.</p>
<h2 id="window-management">Window Management</h2>
<p>By default, Ebib takes over the entire Emacs frame it is started in, displaying the index window at the top and the entry window below it. There are a few options to change this behaviour, however. They are all part of the customisation group <code>ebib-windows</code>, and allow you to specify two alternative ways to deal with Ebib windows.</p>
<p>The main layout option (see <a href="#layout">Layout</a>) can be set to display only the index buffer on startup. In this case, Ebib does not display the entry buffer when it is started. Instead, only the index buffer is displayed, which can be navigated in the usual manner. The entry buffer is only displayed when you edit an entry or add a new one. When you've finished editing and move back to the index buffer, the entry buffer is hidden again.</p>
<p>The entry buffer is also displayed if you press <code>RET</code>. When you do this, the index buffer remains selected, so you can use this to display the fields of an entry without moving focus to the entry window. If you navigate the index buffer, the entry buffer remains visible, updating its contents as you move around.</p>
<p>When the layout option is set to not display the entry buffer, the key <code>z</code> does not hide the index window. Rather, it just selects another, non-Ebib window. In order to hide the index window, you can use <code>Z</code> (that is a capital <code>Z</code>).</p>
<p>A third option to deal with windows is to set the layout to a custom width. In this case, Ebib takes up the right part of the frame, displaying the index and entry buffers. The width of the Ebib windows can then be set with the option <a href="#width">Width</a>, which defaults to 80. The width can be specified as an absolute value (the number of columns), but also as a value relative to the current window. In that case, you must specify a value between 0 and 1. Here, too, the key <code>z</code> switches to a non-Ebib window without hiding the Ebib windows. Use capital <code>Z</code> to hide them. Note that if you specify a custom width, the multiline edit buffer is not displayed in the same window as the entry buffer. Rather, Ebib uses another, non-Ebib window to display it.</p>
<p>If you set Ebib's layout to display only the index buffer on startup, you can additionally set the option <a href="#popup-entry-window">Popup Entry Window</a>. Normally, Ebib will reuse an existing window to display the entry buffer (and restore its original buffer when you leave the entry buffer). With this option set, however, Ebib uses the Emacs function <code>display-buffer-popup-window</code> to create a new window (which is destroyed again when you leave the entry buffer).</p>
<p>Further relevant options are <a href="#window-vertical-split">Window Vertical Split</a>, which displays the index buffer to the left of the frame rather than at the top, and <a href="#index-window-size">Index Window Size</a>, which determines the size of the index window (either its height or its width, depending on whether the index window is displayed at the top or on the left of the frame.)</p>
<h2 id="creating-entry-stubs">Creating Entry Stubs</h2>
<p>If you have a directory full of (pdf) files of articles that you want to add to your database, Ebib can make the task a little bit easier by creating entry stubs for all the files. You can do this with the command <code>M-x ebib-add-file-entry</code>. This command asks you for a file or a directory and creates an entry in the current database for that file or each file in the directory. The entries only contain a file field pointing to the file, all the other information still has to be filled out by hand, but this way you can at least keep track of which files are already in your database.</p>
<p>Note that the entry keys for the stubs are temporary keys. They will be replaced by more permanent keys automatically when you edit the entries. This behaviour is controlled by the function <code>bibtex-generate-autokey</code>, which has a number of customisation options. Check out its doc string for details. If you prefer to edit the keys by hand, you can do so in the index buffer by pressing <code>E</code>.</p>
<h2 id="preamble-definition"><span class="citation">@Preamble</span> Definition</h2>
<p>Apart from database entries, BibTeX allows three more types of elements to appear in a <code>.bib</code> file. These are <code>@comment</code>, <code>@preamble</code> and <code>@string</code> definitions. Ebib provides facilities to handle the latter two. <code>@comment</code> definitions cannot be added to a <code>.bib</code> file through Ebib, and if Ebib finds one in a <code>.bib</code> file, it is simply ignored (and dropped from the file when you save it).</p>
<p><code>@preamble</code> and <code>@string</code> definitions can be handled, however. Ebib allows you to add one <code>@preamble</code> definition to the database. In principle, BibTeX allows more than one such definition, but really one suffices, because you can use the concatenation character <code>#</code> to include multiple TeX or LaTeX commands. So, rather than having two <code>@preamble</code> definitions such as:</p>
<pre><code>@preamble{ &quot;\newcommand{\noopsort}[1]{} &quot; }
@preamble{ &quot;\newcommand{\singleletter}[1]{#1} &quot; }</code></pre>
<p>you can write this in your <code>.bib</code> file:</p>
<pre><code>@preamble{ &quot;\newcommand{\noopsort}[1]{} &quot;
         # &quot;\newcommand{\singleletter}[1]{#1} &quot; }</code></pre>
<p>Creating or editing a <code>@preamble</code> definition in Ebib is done by hitting <code>P</code> (uppercase <code>P</code>) in the index buffer. Ebib uses the multiline edit buffer for editing the text of the <code>@preamble</code> definition, which means that as discussed above, <code>C-c | q</code> stores the <code>@preamble</code> text and returns focus to the index buffer, while <code>C-c | c</code> returns focus to the index buffer while abandoning any changes you may have made. (For details on using the multiline edit buffer, see <a href="#the-multiline-edit-buffer">The Multiline Edit Buffer</a>.)</p>
<p>In order to create a <code>@preamble</code> as shown above in Ebib, you only have to type the text between the braces. Ebib takes care of including the braces of the <code>@preamble</code> command, but otherwise it saves the text exactly as you enter it. So in order to get the preamble above, you'd have to type the following in Ebib:</p>
<pre><code>&quot;\newcommand{\noopsort}[1]{} &quot; # &quot;\newcommand{\singleletter}[1]{#1} &quot;</code></pre>
<p>Note that when Ebib loads a <code>.bib</code> file that contains more than one <code>@preamble</code> definition, it concatenates all the strings in them in the manner just described and saves them in one <code>@preamble</code> definition.</p>
<h2 id="string-definitions"><span class="citation">@String</span> Definitions</h2>
<p>If you press <code>S</code> (that's a uppercase <code>S</code>) in the index buffer, Ebib hides the entry buffer in the lower window and replaces it with the <em>strings buffer</em>. In this buffer, you can add, delete and edit <code>@string</code> definitions.</p>
<p>Adding a <code>@string</code> definition is done with the command <code>a</code>. This will first ask you for an abbreviation and then for the value to be associated with that abbreviation. Once you've entered these, Ebib will sort the new abbreviation into the buffer.</p>
<p>Moving between the <code>@string</code> definitions can be done in the usual way: the cursor keys <code>up</code> and <code>down</code>, <code>C-p</code> and <code>C-n</code> and <code>k</code> and <code>j</code> move up and down. <code>Space</code> and <code>PgDn</code> move ten strings down, while <code>b</code> and <code>PgUp</code> move in the other direction. The keys <code>g</code>, <code>G</code>, <code>Home</code> and <code>End</code> also function as expected.</p>
<p>To delete a <code>@string</code> definition, use <code>d</code>. To edit the value of a definition, use <code>e</code>. There is also a command <code>c</code>, which copies the value of the current <code>@string</code> definition to the kill ring. Unlike in the entry buffer, there are no corresponing commands <code>y</code> and <code>x</code>. (In fact, <code>x</code> does exist, but has another function.) Yanking from the kill ring can be done with <code>C-y/M-y</code> in the minibuffer when you edit a <code>@string</code>'s value. Cutting a <code>@string</code>'s value is pointless, because a <code>@string</code> definition must have a value.</p>
<p>Having defined <code>@string</code> definitions, there must of course be a way to use them. Just giving a field a string abbreviation as value will not do, because Ebib puts braces around the value that you enter when it writes the <code>.bib</code> file, so that BibTeX will not recognise the abbreviation, and will not expand it. BibTeX will only recognise an abbreviation if it appears in the <code>.bib</code> file outside of any braces.</p>
<p>To accomplish this, you must mark a field's value as <em>raw</em>. A raw field is a field whose value is not surrounded by braces when the database is saved, so that BibTeX recognises it as an abbreviation. To mark a field raw, press <code>r</code>. An asterisk will appear before the field, indicating that it is raw. Pressing <code>r</code> again will change the field back to normal. If you press <code>r</code> on a field that does not have a value yet, Ebib will ask you for one.</p>
<p>Note that this also makes it possible to enter field values that are composed of concatenations of strings and abbreviations. The BibTeX documentation for example explains that if you have defined:</p>
<pre><code>@string{WGA = &quot;World Gnus Almanac&quot;}</code></pre>
<p>you can create a BibTeX field like this:</p>
<pre><code>title = 1966 # WGA</code></pre>
<p>which will produce &quot;1966 World Gnus Almanac&quot;. Or you can do:</p>
<pre><code>month = &quot;1~&quot; # jan</code></pre>
<p>which will produce someting like &quot;1 January&quot;, assuming your bibliography style has defined the abbreviation <code>jan</code>. All this is possible with Ebib, simply by entering the exact text including quotes or braces around the strings, and marking the relevant field as raw.</p>
<p>An easy way to enter a <code>@string</code> abbreviation as a field value is to use the key <code>s</code> instead of <code>e</code>. If you type <code>s</code>, Ebib asks you for a <code>@string</code> abbreviation to put in the current field, and automatically marks the field as raw. With this command, Ebib only accepts <code>@string</code> definitions that are in the database, so that by using <code>s</code> you can make sure you don't make any typos. Note that you can use tab completion to complete a partial string.</p>
<h2 id="managing-keywords">Managing Keywords</h2>
<p>Ebib provides a few special options for handling keywords. By default, there is a <code>keyword</code> field in the list of additional fields. Editing this field is a bit different from other fields. Instead of just entering a string and hitting ENTER to store it and return to the entry buffer, you should enter a single keyword and hit enter. The keyword will then be added to the keywords already present and you are asked to enter the next keyword. If you've added all keywords you want, just hit ENTER to finish.</p>
<p>The advantage of doing it this way is that you can reuse keywords: once you've added a keyword to one entry, Ebib remembers it. The next time you want to use the same keyword for a different entry, you just need to type the first (few) letters, hit TAB and the keyword will be completed. That makes it easier to ensure you use the exact same keywords in different entries.</p>
<p>Note that Ebib's keyword functionality is not used to check the contents of keyword fields. It is simply a way to make it easier to stick to specific keywords, which should make it easier to categorise and search your entries. It is still possible to edit the <code>keyword</code> field directly. To do so, use a prefix argument: <code>C-u e</code> (or any other prefix argument) on the <code>keyword</code> field will allow you to edit the entire contents in the normal way. Use this method if you want to remove single keywords. (Blanking the entire <code>keyword</code> field is quicker with <code>x</code> or <code>d</code>.)</p>
<p>Remembering keywords is practical, but it is even more useful if remembered keywords can be saved, so that they are available the next time you start Ebib. There are two ways of doing this: first, there is an option <code>ebib-keywords-list</code> that you can use to store keywords. (See <a href="#keywords-list">Keywords List</a>.) Keywords stored in this option will be available for TAB completion to all databases in Ebib. New keywords, however, will not automatically be stored. If you find you need a keyword not on the list and want to make it permanent, you'll have to add it to <code>ebib-keywords-list</code> yourself.</p>
<p>The other way of making keywords permanent is by storing them in a file. Ebib offers two ways of doing this (which are mutually exclusive, so you have to choose one). You can either configure a single keyword file, with keywords that are available to all databases, or you can configure per-directory keyword files, with keywords that are available for all <code>.bib</code> files in the same directory. You can set up keyword files by configuring the option <a href="#keywords-file">Keywords File</a>. You can either set it to use a single keyword file, in which case you need to specify a file with its full path, or you can use per-directory keyword files, in which case you must provide a filename without a path. That is, if you use per-directory keyword files, the files have the same name in each directory. The default name is <code>ebib-keywords.txt</code>, but you can change that if you like, of course.</p>
<p>Keyword files have a very simple format: they are text files with one keyword per line. So you can easily create or edit keyword files by hand, or have them autogenerated by some other programme. Keep in mind, though, that Ebib does not check for changes to keyword files. If you have a single keyword file, it is loaded when Ebib starts up; per-directory keyword files are loaded when the first <code>.bib</code> file in that directory is opened. If you open a second <code>.bib</code> file from the same directory, Ebib won't reload the keywords file.</p>
<p>When you close a database, Ebib checks if you have added new keywords to it and asks you if you want to save them. You can tell Ebib to save new keywords automatically by setting the option <a href="#keywords-file-save-on-exit">Keywords File Save On Exit</a> to <code>always</code>. Note that this doesn't save the keywords when you enter them, only when you close the database or quit Ebib. You can also set this option to <code>never</code>, which means Ebib will discard new keywords when the database is closed. Note that there are also two menu options for saving keywords.</p>
<p>The option <a href="#keywords-use-only-file">Keywords Use Only File</a> controls whether Ebib uses only the keyword file, or both the keyword file and the configured keyword list. This option is only useful when you have configured a keyword file. In that case, setting this option to use both the keyword list and the keyword file tells Ebib to offer keywords from both sources when you edit the keyword field. Otherwise, only the keyword file is used.</p>
<p>It is also possible to tell Ebib to sort the keywords in the <code>keywords</code> field in alphabetical order. Set the option <a href="#keywords-field-keep-sorted">Keywords Field Keep Sorted</a> if you want to do this. Note that setting this option also automatically removes duplicates.</p>
<p>Lastly, you can configure the separator used between keywords in the keyword field. By default, it is set to <code>&quot;; &quot;</code>, i.e., semicolon plus space. If you change it, keep in mind that Ebib does not add a space between keywords, so if you want a space, make sure to add it to the separator.</p>
<h2 id="sorting-the-.bib-file">Sorting the <code>.bib</code> File</h2>
<p>By default, the entries in the database are saved to the <code>.bib</code> file in alphabetical order according to entry key. If you only deal with the <code>.bib</code> file through Ebib, you may not care in which order the entries are saved. However, it may sometimes be desirable to be able to specify the sort order of entries in more detail. (Apparently, this can be useful with ConTeXt, for example.)</p>
<p>You can specify a sort order in Ebib's customisation buffer. To sort the entries, you must set at least one sort level (that is, a field to sort the entries on). You can also specify more than one sort level: if two entries have identical values for the first sort level, they will be sorted on the second sort level. E.g., if the first sort level is <code>author</code> and the second is <code>year</code>, then the entries are sorted by author, and those entries that have identical values for the <code>author</code> field are sorted by year.</p>
<p>A sort level is not restricted to a single field. You can specify more fields for a single sort level. Within a single sort level, a second sort field is used if the first sort field does not have a value. For example, books that have an editor instead of an author will have an empty <code>author</code> field. If you sort the database on the <code>author</code> field, such entries will all appear at the beginning of the <code>.bib</code> file, which is most likely not what you want.</p>
<p>To remedy this, you can specify both the <code>author</code> and the <code>editor</code> fields for the first sort level. Ebib will then sort an entry on its <code>author</code> field if it has a value, and will otherwise use the value of the <code>editor</code> field.</p>
<p>The difference between two sort fields within one sort level and two sort levels is that a second sort <em>field</em> is an alternative for the first field when it has no value, while a second sort <em>level</em> is an additional sort criterion when two or more entries cannot be sorted on the first level, because they have identical values.</p>
<p>By default, the option <code>Sort Order</code> has no value, which means that the entries in the <code>.bib</code> file are sorted according to entry key. Those that wish to customise the sort order will usually want to set the first sort level to <code>author editor</code>, and the second to <code>year</code>. In that way, the entries in the <code>.bib</code> file are sorted according to author/editor, and entries with the same author/editor are sorted by year.</p>
<p>Entries that cannot be sorted on some sort level, because the sort fields are empty, are sorted on entry key. (Keep in mind that if the first sort level yields <em>no value</em> for a specific entry, Ebib does <em>not</em> use the second sort level to sort that entry. It uses the entry key. The second sort level is only used if the first yields <em>identical</em> values for two or more entries.)</p>
<p>Note that if you have set the option <code>Save Xrefs First</code> (see <a href="#cross-referencing">Cross-referencing</a>), it is pointless to set a sort order. Saving cross-referencing entries first messes up any sort order, so Ebib simply ignores the sort order if <code>Save Xrefs First</code> is set.</p>
<h2 id="merging-and-importing">Merging and Importing</h2>
<p>As described in the previous chapter, adding entries to a database can be done manually with the key <code>a</code>. There are other ways of adding entries to a database, however.</p>
<p>In the index buffer, the Ebib menu has an option to merge a second .bib file into the current database. Ebib reads the entries in this file and adds them to the database. Duplicate entries (that is, entries with an entry key that already exists in the database) will not be loaded. Ebib logs a warning about each duplicate entry to its log buffer and displays a warning after loading the <code>.bib</code> file when this happens.</p>
<p>Another way to add entries to a database is to import them from an Emacs buffer. If, for example, you find ready-formatted BibTeX entries in a text file or on the internet, you can copy &amp; paste them to any Emacs buffer (e.g. the <code>*scratch*</code> buffer), and then execute the command <code>M-x ebib-import</code>. Ebib then goes through the buffer and loads all BibTeX entries it finds into the current database (i.e. the database that was active when you lowered Ebib). If you call <code>ebib-import</code> while the region is active, Ebib only reads the BibTeX entries in the region.</p>
<p>If the BibTeX entries in the buffer lack an entry key (which sometimes happens with BibTeX entries found on the internet), Ebib will generate a temporary key for it of the form <code>&lt;new-keyXX&gt;</code>, where <code>XX</code> is a number. You can change such keys by hitting <code>E</code> in the index buffer. They will also automatically be replaced with a more sensible key when you edit them. See <a href="#autogenerate-keys">Autogenerate Keys</a> for details.</p>
<h2 id="exporting-entries">Exporting Entries</h2>
<p>Sometimes it can be useful to copy entries from one database to another, or to create a new <code>.bib</code> file with several entries from an existing database. For this purpose, Ebib provides exporting facilities. To export an entry to a <code>.bib</code> file, use the command <code>x</code>. Ebib will ask you for a filename to export the entry to. (If you have already exported an entry before, Ebib will present the filename you used as default, but you can of course change it.)</p>
<p>For obvious reasons, Ebib appends the entry to the file that you enter if it already exists, it does not overwrite the file. If this is not what you want, delete the file first, as Ebib provides no way to do this.</p>
<p>If you have more than one database open in Ebib, it is also possible to copy entries from one database to another. To do this, use the <code>x</code> command with a numeric prefix argument. E.g., if the database you want to export an entry to is the second database, type <code>M-2 x</code> to export the current entry to it. The number of the database is given in the modeline of the index buffer.</p>
<p>If the database you're copying an entry to already contains an entry with the same entry key, Ebib won't copy the entry, and issues an appropriate warning message.</p>
<p>Note that the command <code>x</code> can operate on selected entries. So to export several entries in one go select them and type <code>; x</code>. You can use a prefix argument in the normal way: <code>M-2 ; x</code> exports the selected entries to database 2.</p>
<p>Apart from entries, it is also possible to export the <code>@preamble</code> and <code>@string</code> definitions. The <code>@preamble</code> definition is exported with the command <code>X</code> in the index buffer. <code>@string</code> definitions can be exported in the strings buffer: <code>x</code> in this buffer exports the current string, while <code>X</code> exports all <code>@string</code> definitions in one go. All these commands function in the same way: when used without a prefix argument, they ask for a filename, and then append the relevent data to that file. With a numeric prefix argument, they copy the relevant data to the corresponding open database.</p>
<h2 id="timestamps">Timestamps</h2>
<p>Ebib provides the possibility to add a timestamp to every new entry, recording the time it was added to the database. The timestamp is recorded in the (additional) field <code>timestamp</code>. (By default, this field is not shown, but you can make it visible by checking the option &quot;Show Hidden Fields&quot; in the Options menu.)</p>
<p>You can tell Ebib to create timestamps by setting the option <code>Use Timestamp</code> in Ebib's customisation buffer. With this option set, a timestamp is included in entries added to the database with <code>a</code>. Ebib will also add a timestamp to entries imported from a buffer or merged from a file, and to entries exported to another database or to a file. When importing or exporting entries, existing timestamps will be overwritten. The logic behind this is that the timestamp records the date and time when the entry was added to the database, not when it was first created.</p>
<p>Note that if this option is unset, the timestamp of an entry is retained when it's imported or exported. Therefore, if you record timestamps and want to im-/export entries without changing their timestamps, temporarily unset this option.</p>
<p>Ebib uses the function <code>format-time-string</code> to create the timestamp. The format string that Ebib uses can be customised in Ebib's customisation buffer. The default string is <code>&quot;%a %b</code> <code>%e %T %Y&quot;</code>, which produces a timestamp of the form <code>&quot;Mon Mar 12 01:03:26 2007&quot;</code>. Obviously, this string is not suited for sorting, so if you want to be able to sort on timestamps, you'll need to customise the format string. See the documentation for <code>format-time-string</code> on the options that are available.</p>
<h2 id="multiple-identical-fields">Multiple Identical Fields</h2>
<p>Under normal circumstances, a BibTeX entry only contains one occurrence of each field. If BibTeX notices that an entry contains more than one occurrence of an obligatory or optional field, it issues a warning. Ebib is somewhat less gracious, it simply takes the value of the last occurrence without giving any warning. (Note, by the way, that BibTeX will use the value of the <em>first</em> occurrence, not the last.) When additional fields appear more than once in an entry, BibTeX does not warn you, since it ignores those fields anyway. Here, too, Ebib's standard behaviour is to ignore all but the last value.</p>
<p>However, some online reference management services &quot;use&quot; this feature of BibTeX in that they put multiple <code>keywords</code> fields in the BibTeX entries that they produce. If you were to import such an entry into Ebib, you would lose all your keywords except the last one. To remedy this, you can tell Ebib that it should allow multiple occurrences of a single field in a BibTeX entry. You can do this by setting the customisation option <a href="#allow-identical-fields">Allow Identical Fields</a>.</p>
<p>With this option set, Ebib collapses the multiple occurrences into a single occurrence. All the values of the different occurrences are collected and stored in the single occurrence, separated by semicolons. That is, Ebib does not retain the multiple occurrences, but it does retain the values. So suppose you have an entry that contains the following <code>keywords</code> fields:</p>
<pre><code>@book{Jones1998,
    author = {Jones, Joan},
    year = {1998},
    ...
    keywords = {sleep},
    keywords = {winter},
    keywords = {hibernation}
}</code></pre>
<p>If you load this entry into Ebib with the option <code>Allow Identical Fields</code> set, you will get the following:</p>
<pre><code>@book{Jones1998,
    author = {Jones, Joan},
    year = {1998},
    ...
    keywords = {sleep; winter; hibernation}
}</code></pre>
<h2 id="filters">Filters</h2>
<p>As discussed, Ebib has a straightforward search functionality that can be invoked with <code>/</code>. There is, however, also a much more sophisticated search mechanism that makes use of <em>filters</em>.</p>
<p>A filter is basically a search expression that selects entries from the current database. When you apply a filter to a database, only the entries that match are shown. With filters, you can, for example, select all entries from a database that contain the string &quot;Jones&quot; in their <code>author</code> field. A filter can be as complex as you want: you can select all entries that do <em>not</em> contain &quot;Jones&quot; in the <code>author</code> field, or all entries that contain &quot;Jones&quot; in either the <code>author</code> or the <code>editor</code> field, or all entries that contain &quot;Jones&quot; in the <code>author</code> field, and &quot;symbiotic hibernation&quot; in the <code>keyword</code> field, etc. Basically, the filter can consist of an arbitary number of search criteria combined with the logical operators <code>and, or</code> and <code>not</code>.</p>
<h3 id="simple-selection">Simple Selection</h3>
<p>Creating a filter is simple: press <code>&amp;</code>, and Ebib will ask you for a field to select on, and for a regular expression to select with. So if you want to select all entries that contain &quot;Jones&quot; in the <code>author</code> field, you press <code>&amp;</code> and type <code>author</code> as the field and <code>Jones</code> as the regexp to filter on. Ebib then runs this filter on the database, and only shows those entries that match the filter. To indicate that a filter is active, the active filter is displayed in a header line at the top of the index buffer. (The filter can be displayed in Lisp form, if you prefer: customise <a href="#filters-display-as-lisp">Filters Display As Lisp</a> to do so.)</p>
<p>If you don't want to filter on one specific field but rather want to select all entries that match a certain regexp in any field, you can type <code>any</code> as the field to filter on. So specifying <code>any</code> as the field and <code>Jones</code> as the regexp will give you all entries that have a field that contains &quot;Jones&quot; in them.</p>
<p>Note that you can also select items based on their entry type. In order to do that, you need to specify <code>=type=</code> as the field to search, which is the field name in which Ebib stores the entry type internally. Note that there is also a &quot;normal&quot; field called <code>type</code>, hence the equal signs. If you search the <code>=type=</code> field, only exact matches are returned, so if you search for <code>book</code>, only the entries that are of type <code>book</code> are returned, not those of type <code>inbook</code>. You can use TAB completion in this case, by the way.</p>
<p>If you specify the <code>keywords</code> field, the keywords associated with your database are available for TAB completion as well. Though you can enter any search term, of course.</p>
<h3 id="complex-filters">Complex Filters</h3>
<p>Once you have a filter on your database, you can refine or extend it. For example, suppose you have a filter selecting all entries with &quot;Jones&quot; in the <code>author</code> field and want to add all entries that have &quot;Jones&quot; in the editor field to your selection. I this case you need to do a logical <code>or</code> operation: you want to select an entry if it contains &quot;Jones&quot; in the <code>author</code> field (which you already did) <em>or</em> if it contains &quot;Jones&quot; in the <code>editor</code> field.</p>
<p>A short sidenote: the first impulse in a case like this might be to use <code>and</code> instead of <code>or</code>: after all, you want to select all entries that contain &quot;Jones&quot; in the <code>author</code> field <em>and</em> all entries that contain &quot;Jones&quot; in the <code>editor</code> field. However, the filter that you build up is used to test each entry <em>individually</em> whether it meets the selection criterion. An entry meets the criterion if it contains &quot;Jones&quot; in the <code>author</code> field <em>or</em> if it contains &quot;Jones&quot; in the <code>editor</code> field. Therefore, <code>or</code> is the required operator in this case. If you would use <code>and</code>, you would only get those entries that contain &quot;Jones&quot; in both the <code>author</code> <em>and</em> <code>editor</code> fields.</p>
<p>To perform a logical <code>or</code> operation, press the key <code>|</code>. As before, you will be asked which field you want to filter on, and which regexp you want to filter with. Ebib will then update the index buffer.</p>
<p>It is also possible to perform a logical <code>and</code> on the filter. Use this if you want to select those entries that contain &quot;Jones&quot; in the <code>author</code> field and e.g. &quot;symbiotic hibernation&quot; in the <code>keyword</code> field. A logical <code>and</code> operation is done with the key <code>&amp;</code>. (Note: this is the same key that is used to create the filter. In fact, you can create a filter with <code>|</code> as well: when used in an unfiltered database, <code>&amp;</code> and <code>|</code> are equivalent. They are only different when a filter is already active.)</p>
<p>Both the <code>&amp;</code> and <code>|</code> commands can be used with the negative prefix argument <code>M--</code> (or <code>C-u -</code>, which is identical). In this case, the search criterion is negated. That is, the negative prefix argument performs a logical <code>not</code> operation on the search criterion. For example, if you want to select all entries from a database that do <em>not</em> contain &quot;Jones&quot; in the <code>author</code> field, you can do this by typing <code>M-- &amp;</code> and then filling out the relevant field and regexp.</p>
<p>There is another way of performing a logical <code>not</code> operation, which is only available when a filter is active: by pressing the key <code>~</code>, you invert the current filter. That is, if you have a filtered database with all the entries containing &quot;Jones&quot; in the <code>author</code> or in the <code>editor</code> field, and you press <code>~</code>, the selection is inverted, and now contains all entries that do <em>not</em> have &quot;Jones&quot; in the <code>author</code> or <code>editor</code> field.</p>
<p>Although <code>~</code> and the negative prefix argument to <code>&amp;</code> or <code>|</code> both perform logical <code>not</code> operations, they are <em>not</em> equivalent: <code>~</code> negates the entire filter built up so far, while the negative prefix argument only negates the single selection criterion you enter with it.</p>
<p>When a filter is active, the filter itself is displayed at the top of the index buffer. If the index window is too small to display the entire filter (which can easily happen if Ebib is set to split the frame vertically rather than horizontally), you can press <code>F v</code> (capital <code>F</code>, small <code>v</code>), which will display the filter in the minibuffer.</p>
<p>To cancel the filter and return to the normal view of the database, press <code>F c</code>. For convenience, this action is also available with <code>c</code>, which normally closes a database. If a filter is active, however, it simply cancels the filter. (If you find this behaviour confusing, you can rebind the <code>c</code> key to the function <code>ebib-close-database</code>. See <a href="#modifying-key-bindings">Modifying Key Bindings</a> for details.)</p>
<h3 id="storing-and-saving-filters">Storing and Saving Filters</h3>
<p>When you cancel a filter, it is automatically stored so that it can be reapplied later. To reapply a filter, type <code>F L</code>. This will reapply the last used filter regardless of which database you're in. That is, you can use this to search more than one database without having to type the filter over and over.</p>
<p>However, Ebib only stores one filter this way. If you want to store more filters, you have to name them. You can store the currently active filter or the last used filter with <code>F s</code>. Ebib will ask you for a name for the filter in order to identify it later. By default, filter names are case-insensitive, but if you prefer to use case-sensitive filter names, you can unset the option <a href="#filters-ignore-case">Filters Ignore Case</a>. When Ebib is closed, all stored filters are saved to a file and they're automatically reloaded when you open Ebib again. Stored filters are not associated with a particular database: once a filter is stored, it is available to all databases.</p>
<p>You can apply a stored filter with <code>F a</code>. This will ask for the name of a filter and apply it to the current database. You can extend the filter in the normal way, though the changes will not be stored automatically. To store it, type <code>F s</code> again. You can store the extended filter under the old name, in which case Ebib will ask you for confirmation, or under a new name, which will store it as a new filter, keeping the old one.</p>
<p>The file that Ebib uses to store filters is <code>~/.emacs.d/ebib-filters</code>, although that can of course be customised (see <a href="#filters-default-file">Filters Default File</a>). As mentioned, stored filters are saved automatically when Ebib closes, but you can also save them manually with <code>F S</code>. Note that if there are no stored filters when Ebib is closed (or when you press <code>F S</code>), the file is deleted.</p>
<p>You can also save your filters to a different file with <code>F w</code>. Such a filter file can be reloaded later with <code>F l</code>. If you load filters from a file while you still have stored filters, you are asked if you want to replace them completely or if you want to add the new filters to the existing ones. In the latter case, however, filters whose name conflict with existing filters are not loaded. (Ebib will log a message about this when this happens.)</p>
<p>To see what filters are currently stored, use <code>F V</code>. If you want to rename a filter, you can do so with <code>F R</code>.</p>
<p>Note that cancelling a filter with <code>F c</code> does not delete it from the list of stored filters, it will remain available for later application. If you want to delete a filter from the list of stored filters, use <code>F d</code>. You can also delete all stored filters with <code>F D</code>. These deletion commands do not ask for confirmation, but if you delete any filters by accident, you can reload them from <code>~/.emacs.d/ebib-filters</code> with <code>F l</code>.</p>
<h3 id="properties-of-filtered-databases">Properties of Filtered Databases</h3>
<p>When a filter is active, there are a few things that are not possible or function differently. First, it is not possible to add or delete entries, either interactively or by merging or exporting. Exporting from a filtered database or saving a filtered database is also disabled. (The reasons for these limitations are mainly historic and they may be lifted in future version). Editing existing entries is possible, however. Note that if the entry doesn't match the filter anymore after the edit, it doesn't disappear from view. In order to reapply the filter, press <code>F r</code>.</p>
<p>It is also possible to mark entries. Marked entries stay marked when you cancel the filter, so in order to do something with all the entries matching a filter, you can mark them all in the filter view with <code>; m</code>, then cancel the filter and perform an action on them.</p>
<p>Although a filtered database cannot be saved, it is possible to write the filtered entries to a file. To do so, use <code>F W</code>. This command also writes all the <code>@string</code> definitions and the <code>@preamble</code>, so you end up with a complete <code>.bib</code> file. (Note that this is in fact the same command as the menu option &quot;Save Database As&quot;. This command behaves differently depending on whether a filter is active. If there is, only the filtered entries are written to the new file and the original database remains open. If no filter is active, all the entries are written and the database in Ebib is renamed.)</p>
<p>One final note: of all the filter-related commands, <code>~</code>, <code>F c</code>, <code>F r</code>, <code>F s</code> and <code>F v</code> and of course the special function of <code>F w</code> are only available when a filter is active. The other commands operate on the stored filters and can be used when no filter is active.</p>
<h2 id="the-multiline-edit-buffer">The Multiline Edit Buffer</h2>
<p>As mentioned several times before, Ebib has a special multiline edit buffer, which is used to edit field values that contain newlines (so-called <em>multiline fields</em>), and also to edit the contents of the <code>@preamble</code> command. This section discusses the details of this buffer.</p>
<p>Ebib enters multiline edit mode in one of three cases: when you edit the <code>@preamble</code> definition, when you hit <code>l</code> in the entry buffer to edit the current field as multiline, or when you hit <code>e</code> on the <code>annote</code> field, or on a field whose value already is multiline.</p>
<p>The mode that is used in the multiline edit buffer is user-configurable. The default value is <code>text-mode</code>, but if you prefer to use some other mode, you can specify this through the customisation options. (Personally, I use <code>markdown-mode</code> in the multiline edit buffer, so that I can use <a href="http://daringfireball.net/projects/markdown/"><code>Markdown</code></a> to write annotations, which provides an easy way to create headers, use bold and italic, etc., in plain text.)</p>
<p>Three commands are relevant for interacting with Ebib when you're in the multiline edit buffer, which are bound to key sequences in the minor mode <code>ebib-multiline-edit-mode</code>, which is activated automatically in the multiline edit buffer.</p>
<p><code>ebib-quit-multiline-edit</code>, bound to <code>C-c | q</code>, leaves the multiline edit buffer and stores the text in the database. If you invoke this command when you've deleted all contents of the buffer (including the final newline!) and you were editing a field value or the <code>@preamble</code>, the field value or preamble is deleted. (This is in fact the <em>only</em> way to delete the <code>@preamble</code> definition. Field values on the other hand can also be deleted by hitting <code>x</code> or <code>d</code> on them in the entry buffer.) If you were editing a <code>@string</code> value, Ebib will just complain, because string definitions cannot be empty.</p>
<p><code>ebib-cancel-multiline-edit</code>, bound to <code>C-c | c</code>, also leaves the multiline edit buffer, but it does so without storing the text. The original value of the field, string or preamble will be retained. If the text was modified, Ebib will ask for a confirmation before leaving the buffer.</p>
<p><code>ebib-save-from-multiline-edit</code>, bound to <code>C-c | s</code>, can be used in the multiline edit buffer to save the database. This command first stores the text in the database and then saves it. Because Ebib does not do an autosave of the current database, it is advisable to save the database manually every now and then to prevent data loss in case of crashes. It would be annoying to have to leave the multiline edit buffer every time you want to do this, so this command has been provided to allow you to do this from within the buffer.</p>
<p>Admittedly, the key combinations of the multiline edit buffer are somewhat awkward. The reason for this is that these commands are part of a minor mode, which restricts the available keys to combinations of <code>C-c</code> plus a non-alphanumeric character. However, it is possible to change the key commands, if you wish. Ebib itself provides a method to change the second key of these commands: see <a href="#modifying-key-bindings">Modifying Key Bindings</a> for details. You could change the <code>|</code> to e.g., <code>c</code> or <code>C-c</code>, if these do not conflict with any key commands in the major mode used for the multiline edit buffer.</p>
<p>Even more drastically, you could put something like the following in your <code>~/.emacs</code>:</p>
<pre class="sourceCode Commonlisp"><code class="sourceCode commonlisp">(eval-after-load &#39;ebib
  &#39;(<span class="kw">progn</span>
     (define-key ebib-multiline-mode-map
                 <span class="st">&quot;\C-c\C-c&quot;</span> &#39;ebib-quit-multiline-edit)
     (define-key ebib-multiline-mode-map
                 <span class="st">&quot;\C-c\C-q&quot;</span> &#39;ebib-cancel-multiline-edit)
     (define-key ebib-multiline-mode-map
                 <span class="st">&quot;\C-c\C-s&quot;</span> &#39;ebib-save-from-multiline-edit)))</code></pre>
<p>This sets up <code>C-c C-c</code>, <code>C-c C-q</code> and <code>C-c C-s</code> for use in the multiline edit buffer. Since such key combinations are restricted for use with major modes, however, Ebib cannot set these up automatically, but as an Emacs user, you are free do do as you like, of course.</p>
<h2 id="the-options-menu">The Options Menu</h2>
<p>In the index buffer, Ebib's menu has an Options submenu. This menu gives you quick access to Ebib's customisation buffer, and it also provides checkboxes for several settings that can be toggled on and off. All of these settings have defaults that can be defined in the customisation buffer. Setting or unsetting them in the Options menu only changes them for the duration of your Emacs session, it doesn't affect the default setting.</p>
<p>The same is true for the printing options that are in the Print menu. When set or unset in the menu, the default values specified in the customisation buffer do not change.</p>
<h1 id="the-ebib-buffers">The Ebib Buffers</h1>
<p>This chapter lists all the key commands that exist in Ebib, with a short description and the actual command that they call. The latter information is needed if you want to customise Ebib's key bindings. (See <a href="#modifying-key-bindings">Modifying Key Bindings</a>.)</p>
<h2 id="the-index-buffer">The Index Buffer</h2>
<dl>
<dt><code>Up</code></dt>
<dd>go to previous entry. <code>(ebib-prev-entry)</code>
</dd>
<dt><code>Down</code></dt>
<dd>go to next entry. <code>(ebib-next-entry)</code>
</dd>
<dt><code>Right</code></dt>
<dd>move to the next database. <code>(ebib-next-database)</code>
</dd>
<dt><code>Left</code></dt>
<dd>move to the previous database. <code>(ebib-prev-database)</code>
</dd>
<dt><code>PgUp</code></dt>
<dd>scroll the index buffer down. <code>(ebib-index-scroll-down)</code>
</dd>
<dt><code>PgDn</code></dt>
<dd>scroll the index buffer up. <code>(ebib-index-scroll-up)</code>
</dd>
<dt><code>Home</code></dt>
<dd>go to first entry. <code>(ebib-goto-first-entry)</code>
</dd>
<dt><code>End</code></dt>
<dd>go to last entry. <code>(ebib-goto-last-entry)</code>
</dd>
<dt><code>Return</code></dt>
<dd>make the entry under the cursor current. Use after e.g. <code>C-s</code>. <code>(ebib-select-entry)</code>
</dd>
<dt><code>Space</code></dt>
<dd>equivalent to <code>PgDn</code>.
</dd>
<dt><code>1-9</code></dt>
<dd>jump to the corresponding database.
</dd>
<dt><code>/</code></dt>
<dd>search the database. <code>(ebib-search)</code>
</dd>
<dt><code>&amp;</code></dt>
<dd>create a filter, or perform a logical <code>and</code> on the current filter. With negative prefix argument: apply a logical <code>not</code> to the selectional criterion. <code>(ebib-filter-and)</code>
</dd>
<dt><code>|</code></dt>
<dd>create a filter, or perform a logical <code>or</code> on the current filter. With negative prefix argument: apply a logical <code>not</code> to the selectional criterion. <code>(ebib-filter-or)</code>
</dd>
<dt><code>~</code></dt>
<dd>perform a logical <code>not</code> on the current filter. <code>(ebib-filter-not)</code>
</dd>
<dt><code>?</code></dt>
<dd>display Ebib info. <code>(ebib-info)</code>
</dd>
<dt><code>a</code></dt>
<dd>add an entry. <code>(ebib-add-entry)</code>
</dd>
<dt><code>b</code></dt>
<dd>equivalent to <code>Pgup</code>.
</dd>
<dt><code>c</code></dt>
<dd>close the database or cancel the current filter. <code>(ebib-index-c)</code>
</dd>
<dt><code>C</code></dt>
<dd>follow <code>crossref</code> field. <code>(ebib-follow-crossref)</code>
</dd>
<dt><code>d</code></dt>
<dd>delete the current entry. <code>(ebib-delete-entry)</code>
</dd>
<dt><code>; d</code></dt>
<dd>delete all selected entries.
</dd>
<dt><code>e</code></dt>
<dd>edit the current entry. <code>(ebib-edit-entry)</code>
</dd>
<dt><code>E</code></dt>
<dd>edit the key of the current entry. <code>(ebib-edit-keyname)</code>
</dd>
<dt><code>f</code></dt>
<dd>extract a filename from the <code>file</code> field and send it to an appropriate viewer. With numeric prefix argument, extract the <em>n</em>-th filename.
</dd>
<dt><code>F</code></dt>
<dd>prefix key for filter actions.
</dd>
<dt><code>F &amp;</code></dt>
<dd>equivalent to <code>&amp;</code>.
</dd>
<dt><code>F |</code></dt>
<dd>equivalent to <code>|</code>.
</dd>
<dt><code>F ~</code></dt>
<dd>equivalent to <code>~</code>
</dd>
<dt><code>F a</code></dt>
<dd>apply a stored filter. <code>(ebib-filters-apply-filter)</code>
</dd>
<dt><code>F c</code></dt>
<dd>cancel the current filter. <code>(ebib-filters-cancel-filter)</code>
</dd>
<dt><code>F d</code></dt>
<dd>delete a stored filter. <code>(ebib-filters-delete-filter)</code>
</dd>
<dt><code>F D</code></dt>
<dd>delete all stored filters. <code>(ebib-filters-delete-all-filters)</code>
</dd>
<dt><code>F l</code></dt>
<dd>load filters from a file. <code>(ebib-filters-load-from-file)</code>
</dd>
<dt><code>F L</code></dt>
<dd>reapply the last used filter. <code>(ebib-filters-reapply-last-filter)</code>
</dd>
<dt><code>F r</code></dt>
<dd>reapply the current filter. <code>(ebib-filters-reapply-filter)</code>
</dd>
<dt><code>F R</code></dt>
<dd>rename a stored filter. <code>(ebib-filters-rename-filter)</code>
</dd>
<dt><code>F s</code></dt>
<dd>store the current filter. <code>(ebib-filters-store-filter)</code>
</dd>
<dt><code>F S</code></dt>
<dd>save stored filters to <code>ebib-filters-default-file</code>. <code>(ebib-filters-save-filters)</code>
</dd>
<dt><code>F v</code></dt>
<dd>display the filter in the minibuffer. <code>(ebib-filters-view-filter)</code>
</dd>
<dt><code>F V</code></dt>
<dd>show a list of filters. <code>(ebib-filters-view-all-filters)</code>
</dd>
<dt><code>F w</code></dt>
<dd>write the stored filters to a file. <code>(ebib-filters-write-to-file)</code>
</dd>
<dt><code>F W</code></dt>
<dd>write the filtered entries to a file. <code>(ebib-write-database)</code>
</dd>
<dt><code>g</code></dt>
<dd>equivalent to <code>Home</code>.
</dd>
<dt><code>G</code></dt>
<dd>equivalent to <code>End</code>.
</dd>
<dt><code>h</code></dt>
<dd>show the info node on the index buffer. (<code>ebib-index-help</code>)
</dd>
<dt><code>i</code></dt>
<dd>extract a DOI from the <code>doi</code> field, append it to a URL and open that in a browser (<code>ebib-browse-doi</code>)
</dd>
<dt><code>j</code></dt>
<dd>equivalent to <code>Down</code>.
</dd>
<dt><code>J</code></dt>
<dd>jump to another database. This accepts a numeric prefix argument, but will ask you for a database number if there is none. <code>(ebib-switch-to-database)</code>
</dd>
<dt><code>k</code></dt>
<dd>equivalent to <code>Up</code>.
</dd>
<dt><code>l</code></dt>
<dd>show the log buffer. (<code>ebib-show-log</code>)
</dd>
<dt><code>m</code></dt>
<dd>select (or unselect) the current entry. <code>(ebib-select-entry)</code>
</dd>
<dt><code>; m</code></dt>
<dd>unselect all selected entries.
</dd>
<dt><code>n</code></dt>
<dd>find next occurrence of the search string. <code>(ebib-search-next)</code>
</dd>
<dt><code>N</code></dt>
<dd>search for entries cross-referencing the current one. <code>(ebib-search-crossref)</code>
</dd>
<dt><code>C-n</code></dt>
<dd>equivalent to <code>Down</code>.
</dd>
<dt><code>M-n</code></dt>
<dd>equivalent to <code>PgDn</code>.
</dd>
<dt><code>o</code></dt>
<dd>open a <code>.bib</code> file. <code>(ebib-load-bibtex-file)</code>
</dd>
<dt><code>p</code></dt>
<dd>push an entry to a LaTeX buffer <code>(ebib-push-bibtex-key)</code>
</dd>
<dt><code>; p</code></dt>
<dd>push the selected entries to a LaTeX buffer.
</dd>
<dt><code>C-p</code></dt>
<dd>equivalent to <code>Up</code>.
</dd>
<dt><code>M-p</code></dt>
<dd>equivalent to <code>PgUp</code>.
</dd>
<dt><code>P</code></dt>
<dd>show and edit the <code>@preamble</code> definition in the database. <code>(ebib-edit-preamble)</code>
</dd>
<dt><code>q</code></dt>
<dd>quit Ebib. This sets all variables to nil, unloads the database(s) and quits Ebib. <code>(ebib-quit)</code>
</dd>
<dt><code>s</code></dt>
<dd>save the database. <code>(ebib-save-current-database)</code>
</dd>
<dt><code>S</code></dt>
<dd>show and edit the <code>@string</code> definitions in the database. <code>(ebib-edit-strings)</code>
</dd>
<dt><code>u</code></dt>
<dd>extract a URL from the <code>url</code> field and send it to a browser. With numeric prefix argument, extract the <em>n</em>-th url.
</dd>
<dt><code>x</code></dt>
<dd>export the current entry to a file, or, when used with numeric prefix argument, to another database. <code>(ebib-export-entry)</code>
</dd>
<dt><code>; x</code></dt>
<dd>export the selected entries to a file, or, when used with a numeric prefix argument, to another database.
</dd>
<dt><code>C-x b</code></dt>
<dd>equivalent to <code>z</code>.
</dd>
<dt><code>C-x k</code></dt>
<dd>equivalent to <code>q</code>.
</dd>
<dt><code>X</code></dt>
<dd>export the <code>@preamble</code> definition to a file or, when used with a numeric prefix argument, to another database. <code>(ebib-export-preamble)</code>
</dd>
<dt><code>z</code></dt>
<dd>move focus away from the Ebib windows. <code>(ebib-leave-ebib-windows)</code>
</dd>
<dt><code>Z</code></dt>
<dd>put Ebib in the background. <code>(ebib-lower)</code>
</dd>
</dl>
<p>Functions not bound to any key:</p>
<ul>
<li><code>ebib-print-filename</code></li>
<li><code>ebib-customize</code></li>
<li><code>ebib-merge-bibtex-file</code></li>
<li><code>ebib-write-database</code></li>
<li><code>ebib-save-all-databases</code></li>
<li><code>ebib-print-entries</code></li>
<li><code>ebib-latex-entries</code></li>
<li><code>ebib-toggle-hidden</code></li>
<li><code>ebib-toggle-timestamp</code></li>
<li><code>ebib-toggle-identical-fields</code></li>
<li><code>ebib-toggle-print-multiline</code></li>
<li><code>ebib-toggle-layout</code></li>
</ul>
<h2 id="the-entry-buffer">The Entry Buffer</h2>
<dl>
<dt><code>Up</code></dt>
<dd>go to the previous field. <code>(ebib-prev-field)</code>
</dd>
<dt><code>Down</code></dt>
<dd>go to the next field. <code>(ebib-next-field)</code>
</dd>
<dt><code>PgUp</code></dt>
<dd>go to the previous set of fields. <code>(ebib-goto-prev-set)</code>
</dd>
<dt><code>PgDn</code></dt>
<dd>go to the next set of fields. <code>(ebib-goto-next-set)</code>
</dd>
<dt><code>Home</code></dt>
<dd>go to the first field. <code>(ebib-goto-first-field)</code>
</dd>
<dt><code>End</code></dt>
<dd>go to the last field. <code>(ebib-goto-last-field)</code>
</dd>
<dt><code>Space</code></dt>
<dd>equivalent to <code>PgDn</code>.
</dd>
<dt><code>b</code></dt>
<dd>equivalent to <code>PgUp</code>.
</dd>
<dt><code>c</code></dt>
<dd>copy the contents of the current field to the kill ring. <code>(ebib-copy-field-contents)</code>
</dd>
<dt><code>d</code></dt>
<dd>delete the value of the current field. The deleted contents will <em>not</em> be put in the kill ring, and is therefore irretrievably lost. <code>(ebib-delete-field-contents)</code>
</dd>
<dt><code>e</code></dt>
<dd>edit the current field. <code>(ebib-edit-fields)</code>
</dd>
<dt><code>f</code></dt>
<dd>extract a filename from the current field and send it to an appropriate viewer. With numeric prefix argument, extract the <em>n</em>-th filename.
</dd>
<dt><code>g</code></dt>
<dd>equivalent to <code>Home</code>.
</dd>
<dt><code>G</code></dt>
<dd>equivalent to <code>End</code>.
</dd>
<dt><code>h</code></dt>
<dd>show the info node on the entry buffer. (<code>ebib-entry-help</code>)
</dd>
<dt><code>j</code></dt>
<dd>go to the next field. <code>(ebib-next-field)</code>
</dd>
<dt><code>k</code></dt>
<dd>go to the previous field. <code>(ebib-prev-field)</code>
</dd>
<dt><code>l</code></dt>
<dd>edit the current field as multiline. <code>(ebib-edit-multiline-field)</code>
</dd>
<dt><code>C-n</code></dt>
<dd>equivalent to <code>Down</code>.
</dd>
<dt><code>M-n</code></dt>
<dd>equivalent to <code>PgDn</code>.
</dd>
<dt><code>C-p</code></dt>
<dd>equivalent to <code>Up</code>.
</dd>
<dt><code>M-p</code></dt>
<dd>equivalent to <code>PgUp</code>.
</dd>
<dt><code>q</code></dt>
<dd>quit editing the current entry and return focus to the index buffer. <code>(ebib-quit-entry-buffer)</code>
</dd>
<dt><code>r</code></dt>
<dd>toggle a field's &quot;raw&quot; status. <code>(ebib-toggle-raw)</code>
</dd>
<dt><code>s</code></dt>
<dd>insert an abbreviation from the <code>@string</code> definitions in the database. <code>(ebib-insert-abbreviation)</code>
</dd>
<dt><code>u</code></dt>
<dd>extract a URL from the current field and send it to a browser. With numeric prefix argument, extract the <em>n</em>-th url.
</dd>
<dt><code>x</code></dt>
<dd>cut the contents of the current field. Like <code>c</code>, <code>x</code> puts the contents of the current field in the kill ring. <code>(ebib-cut-field-contents)</code>
</dd>
<dt><code>C-x b</code></dt>
<dd>equivalent to <code>q</code>.
</dd>
<dt><code>C-x k</code></dt>
<dd>equivalent to <code>q</code>.
</dd>
<dt><code>y</code></dt>
<dd>yank the last element in the kill ring to the current field. Repeated use of <code>y</code> functions like <code>C-y/M-y</code>. Note that no text will be yanked if the field already has a value. <code>(ebib-yank-field-contents)</code>
</dd>
</dl>
<h2 id="the-strings-buffer">The Strings Buffer</h2>
<dl>
<dt><code>Up</code></dt>
<dd>go to the previous string. <code>(ebib-prev-string)</code>
</dd>
<dt><code>Down</code></dt>
<dd>go to the next string. <code>(ebib-next-string)</code>
</dd>
<dt><code>PgUp</code></dt>
<dd>go ten strings up. <code>(ebib-strings-page-up)</code>
</dd>
<dt><code>PgDn</code></dt>
<dd>go ten strings down. <code>(ebib-strings-page-down)</code>
</dd>
<dt><code>Home</code></dt>
<dd>go to the first string. <code>(ebib-goto-first-string)</code>
</dd>
<dt><code>End</code></dt>
<dd>go to the last string. <code>(ebib-goto-last-string)</code>
</dd>
<dt><code>Space</code></dt>
<dd>equivalent to <code>PgDn</code>.
</dd>
<dt><code>a</code></dt>
<dd>add a new <code>@string</code> definition. <code>(ebib-add-string)</code>
</dd>
<dt><code>b</code></dt>
<dd>equivalent to <code>PgUp</code>.
</dd>
<dt><code>c</code></dt>
<dd>copy the text of the current string to the kill ring. <code>(ebib-copy-string-contents)</code>
</dd>
<dt><code>d</code></dt>
<dd>delete the current <code>@string</code> definition from the database. You will be asked for confirmation. <code>(ebib-delete-string)</code>
</dd>
<dt><code>e</code></dt>
<dd>edit the value of the current string. <code>(ebib-edit-string)</code>
</dd>
<dt><code>g</code></dt>
<dd>equivalent to <code>Home</code>.
</dd>
<dt><code>G</code></dt>
<dd>equivalent to <code>End</code>.
</dd>
<dt><code>h</code></dt>
<dd>show the info node on the strings buffer. (<code>ebib-strings-help</code>)
</dd>
<dt><code>j</code></dt>
<dd>equivalent to <code>Down</code>.
</dd>
<dt><code>k</code></dt>
<dd>equivalent to <code>Up</code>.
</dd>
<dt><code>l</code></dt>
<dd>edit the value of the current string as multiline. <code>(ebib-edit-multiline-string)</code>
</dd>
<dt><code>C-n</code></dt>
<dd>equivalent to <code>Down</code>.
</dd>
<dt><code>M-n</code></dt>
<dd>equivalent to <code>PgDn</code>.
</dd>
<dt><code>C-p</code></dt>
<dd>equivalent to <code>Up</code>.
</dd>
<dt><code>M-p</code></dt>
<dd>equivalent to <code>PgUp</code>.
</dd>
<dt><code>q</code></dt>
<dd>quit the strings buffer and return focus to the index buffer. <code>(ebib-quit-strings-buffer)</code>
</dd>
<dt><code>x</code></dt>
<dd>export the current <code>@string</code> definition to a file or, when used with a prefix argument, to another database. <code>(ebib-export-string)</code>
</dd>
<dt><code>X</code></dt>
<dd>export all the <code>@string</code> definitions to a file or, when used with a prefix argument, to another database. <code>(ebib-export-all-strings)</code>
</dd>
<dt><code>C-x b</code></dt>
<dd>equivalent to <code>q</code>.
</dd>
<dt><code>C-x k</code></dt>
<dd>equivalent to <code>q</code>.
</dd>
</dl>
<h1 id="customisation">Customisation</h1>
<p>Ebib can be customised through Emacs' standard customisation interface. The only thing that cannot be customised in this way are the key bindings. If you wish to customise those, you have to use the file <code>~/.ebibrc</code>.</p>
<h2 id="the-customisation-buffer">The Customisation Buffer</h2>
<p>Ebib's customisation group is a subgroup of the <code>Tex</code> group. It can be invoked by typing <code>M-x</code> <code>customize-group</code> <code>RET</code> <code>ebib</code> <code>RET</code>, or going to the Options menu and selecting &quot;Customize Ebib&quot;. This chapter gives a short description of all the options available in the customisation buffer.</p>
<h3 id="default-type">Default Type</h3>
<p><strong>Default value</strong>: <code>article</code>.<br /> The default type is the default entry type given to a new entry. Every entry in the Ebib database must have a type, because the type defines which fields are available. When a new entry is created, Ebib gives it a default type, which can be customised through this option.</p>
<h3 id="preload-bib-files">Preload Bib Files</h3>
<p><strong>Default value</strong>: <code>nil</code>.<br /> This option allows you to specify which file(s) Ebib is to load when it starts up. Specify one file per line, press the <code>INS</code> button to add more files. You can complete a partial filename with <code>M-TAB</code>.</p>
<h3 id="preload-bib-search-dirs">Preload Bib Search Dirs</h3>
<p><strong>Default value</strong>: <code>~</code>.<br /> This is a list of directories Ebib searches for <code>.bib</code> files to be preloaded. Note that only the directories themselves are searched, not their subdirectories.</p>
<h3 id="create-backups">Create Backups</h3>
<p><strong>Default value</strong>: <code>t</code>.<br /> Whether to create backups of <code>.bib</code> files. You can unset this option if you have your files under revision control, for example.</p>
<h3 id="keywords-list">Keywords list</h3>
<p><strong>Default value</strong>: <code>nil</code>.<br /> List of keywords to offer for TAB completion when editing the <code>keyword</code> field.</p>
<h3 id="keywords-file">Keywords File</h3>
<p><strong>Default value</strong>: <code>nil</code>.<br /> File to save keywords in. This can be a single file for all <code>.bib</code> files, or a separate keyword file for each directory containing <code>.bib</code> files. In the former case, provide a full filepath, in the latter case, a single filename without path.</p>
<h3 id="keywords-file-save-on-exit">Keywords File Save On Exit</h3>
<p><strong>Default value</strong>: <code>ask</code></p>
<p>Whether to save keyword files on exit. Possible values are <code>ask</code> (ask whether to save), <code>always</code> (save automatically) and <code>never</code> (do not save).</p>
<h3 id="keywords-use-only-file">Keywords Use Only File</h3>
<p><strong>Default value</strong>: <code>nil</code>.<br /> If a keyword file is provided, should keywords be taken <em>only</em> from the file, or also from the keyword list.</p>
<h3 id="keywords-field-keep-sorted">Keywords Field Keep Sorted</h3>
<p><strong>Default value</strong>: <code>nil</code>.<br /> When set, the <code>keywords</code> field is automatically sorted alphabetically when you add keywords to it. In addition, duplicates are automatically removed.</p>
<h3 id="keywords-separator">Keywords Separator</h3>
<p><strong>Default value</strong>: <code>&quot;; &quot;</code></p>
<p>String to insert between keywords in the <code>keyword</code> field.</p>
<h3 id="additional-fields">Additional Fields</h3>
<p><strong>Default value</strong>: <code>crossref</code> <code>url</code> <code>annote</code> <code>abstract</code> <code>keywords</code> <code>file</code> <code>timestamp</code>.<br /> The additional fields are those fields that are available for all entry types, and which BibTeX generally ignores. This option allows you to specify which additional fields you wish to use in your database. Specify one field per line, press the <code>INS</code> button to add more fields.</p>
<h3 id="layout">Layout</h3>
<p><strong>Default value</strong>: <code>full</code>.<br /> When set to <code>full</code>, Ebib takes over the entire frame when it runs. Alternatively, you can select <code>index-only</code>, which means that only the index buffer is displayed upon startup. Lastly, if you select<code>custom</code>, you can specify the width of the Ebib windows yourself. In this case, Ebib takes up the right part of the frame, leaving the left part free. See <a href="#window-management">Window Management</a> for details.</p>
<h3 id="width">Width</h3>
<p><strong>Default value</strong>: 80.<br /> The width of the Ebib windows when <code>ebib-layout</code> is set to <code>custom</code>. It can be an absolute value, specifying the number of columns, or a value relative to the current window, in which case the width must be set to a value between 0 and 1.</p>
<h3 id="popup-entry-window">Popup Entry Window</h3>
<p><strong>Default value</strong>: off.<br /> If this option is set, Ebib pops up a new window to display the entry buffer (which is destroyed again when focus is moved back to the index buffer). Note that this option only takes effect if <a href="#layout">Layout</a> is set to <code>index-only</code>.</p>
<h3 id="window-vertical-split">Window Vertical Split</h3>
<p><strong>Default value</strong>: off.<br /> Normally, the index buffer is displayed at the top of the Emacs frame. If this option is set, the index buffer is displayed on the left.</p>
<h3 id="index-window-size">Index Window Size</h3>
<p><strong>Default value</strong>: 10.<br /> This option lets you specify the size of the index window at the top (or left) of the Ebib screen.</p>
<h3 id="index-mode-line">Index Mode Line</h3>
<p><strong>Default value</strong>:</p>
<pre><code>(&quot;%e&quot;
 mode-line-front-space
 mode-line-modified
 mode-line-buffer-identification
 (:eval (if (ebib-cur-entry-key) &quot;     Entry %l&quot; &quot;     No Entries&quot;))
 (:eval (if (ebib-db-get-filter ebib-cur-db) &quot; (Filtered)&quot; &quot;&quot;)))
                              </code></pre>
<p>This option lets you set the mode line of the index buffer. By default, the mode line displays whether the database has been modified, the name of the current database, the entry number and whether the current database is virtual or not.</p>
<p>If you prefer to have the standard Emacs mode line, set this option to &quot;Use standard mode line&quot;.</p>
<h3 id="index-display-fields">Index Display Fields</h3>
<p><strong>Default value</strong>: <code>nil</code>.<br /> This option allows you to specify fields that should be displayed next to the entry key in the index buffer. By default, the index buffer only shows the key of each entry, but if this is too little information, you can use this option to display e.g. the title of each entry as well.</p>
<h3 id="uniquify-keys">Uniquify Keys</h3>
<p><strong>Default value</strong>: <code>nil</code>.<br /> When you add a new entry to the database or when Ebib autogenerates a key (when <a href="#autogenerate-keys">Autogenerate Keys</a> is set), a check is made to make sure that the new key doesn't already exist in the database. If it does, Ebib normally aborts the operation but when this option is set, Ebib instead tries to create a unique key by appending <code>b</code> or <code>c</code>, etc. to it.</p>
<h3 id="autogenerate-keys">Autogenerate Keys</h3>
<p><strong>Default value</strong>: <code>nil</code>.<br /> This option specifies whether Ebib should autogenerate keys or not. If set, adding a new entry will not ask for a key. Instead, a temporary key <code>&lt;new-entry&gt;</code> is used. When you leave the entry buffer, this key is replaced with an autogenerated key.</p>
<p>Ebib uses the function <code>bibtex-generate-autokey</code> to generate the key. This function has a number of customisation options, which are described in its documentation string.</p>
<h3 id="citation-commands">Citation Commands</h3>
<p><strong>Default value</strong>:</p>
<pre><code>((any
  ((&quot;cite&quot; &quot;\\cite%&lt;[%A]%&gt;{%K}&quot;)))
 (org-mode
  ((&quot;ebib&quot; &quot;[[ebib:%K][%D]]&quot;)))
 (markdown-mode
  ((&quot;text&quot; &quot;@%K%&lt; [%A]%&gt;&quot;)
   (&quot;paren&quot; &quot;[%(%&lt;%A %&gt;@%K%&lt;, %A%&gt;%; )]&quot;)
   (&quot;year&quot; &quot;[-@%K%&lt; %A%&gt;]&quot;))))</code></pre>
<p>With the command <code>ebib-insert-bibtex-key</code> or with the command key <code>p</code> in the index buffer, you can insert a BibTeX key into a LaTeX buffer. This option allows you to define the commands that are available through TAB completion when these functions ask for a citation command. See <a href="#defining-citation-commands">Defining Citation Commands</a> for details.</p>
<p>You can define a different set of citation commands for each major mode. There is a catch-all option <code>any</code>, which is chosen when the major mode from which <code>ebib-insert-bibtex-key</code> is not on the list. By default, this is used for LaTeX citations, because not everybody uses AUCTeX's <code>LaTeX-mode</code>.</p>
<h3 id="multiline-major-mode">Multiline Major Mode</h3>
<p><strong>Default value</strong>: <code>text-mode</code>.<br /> This specifies the major mode used in the multiline edit buffer. Note that the value <em>must</em> be a command for a major mode.</p>
<h3 id="sort-order">Sort Order</h3>
<p><strong>Default value</strong>: <code>nil</code>.<br /> The use of this option is explained above, see <a href="#sorting-bib-file">Sorting the .bib file</a>. To create a sort order, click the <code>INS</code> button to create a sort level, and then click the <code>INS</code> button under that sort level to enter a sort field. If you want to add more than one sort field to the sort level, simply hit <code>INS</code> again.</p>
<h3 id="save-xrefs-first">Save Xrefs First</h3>
<p><strong>Default value</strong>: <code>nil</code>.<br /> For cross-referencing to work, the cross-referencing entries must appear in the <code>.bib</code> file <em>before</em> the cross-referenced entries. In order to tell Ebib to save all entries with a <code>crossref</code> field first, you must set the option <code>Save Xrefs First</code> in Ebib's customisation buffer. With this option set, BibTeX's crossreferencing options work as intended.</p>
<h3 id="crossref-face">Crossref Face</h3>
<p><strong>Default value</strong>: <code>((t (:foreground &quot;red&quot;)))</code>.<br /> Field values inherited from a cross-referenced entry are marked with this face. By default, the face has red as foreground colour.</p>
<h3 id="selected-face">Selected Face</h3>
<p><strong>Default value</strong>:<br /><code>((t (:inverse-video t)))</code><br /> When entries are selected (with <code>m</code>), they are highlighted in this face. By default, it uses the text property <code>highlight</code>.</p>
<h3 id="use-timestamp">Use Timestamp</h3>
<p><strong>Default value</strong>: <code>nil</code>.<br /> If this option is set, Ebib will add a <code>timestamp</code> field to every new entry, recording the date and time it was added to the database. See <a href="#timestamps">Timestamps</a>.</p>
<h3 id="timestamp-format">Timestamp Format</h3>
<p><strong>Default value</strong>: <code>&quot;%a %b %e %T %Y&quot;</code>.<br /> This option specifies the format string that is used to create the timestamp. The format string is used by <code>format-time-string</code> to create a time representation. The default value produces a timestamp of the form <code>&quot;Mon Mar 12 01:03:26 2007&quot;</code>. See the documentation for the Emacs function <code>format-time-string</code> for the forms that the format string can take.</p>
<h3 id="standard-url-field">Standard Url Field</h3>
<p><strong>Default value</strong>: <code>url</code>.<br /> This is the field that Ebib searches for URLs if you press <code>u</code> in the index buffer.</p>
<h3 id="url-regexp">Url Regexp</h3>
<p><strong>Default value</strong>: <code>\\url{\(.*\)}\|https?://[^ ';&lt;&gt;\&quot;\n\t\f]+</code>.<br /> This is the regular expression that Ebib uses to search for URLs in a field. With the default value, Ebib considers everything that is in a LaTeX <code>\url{...}</code> command as a URL, and furthermore every string of text that starts with <code>http://</code> or <code>https://</code> and does not contain whitespace or one of the characters <code>' &quot; ; &lt;</code> or <code>&gt;</code>.</p>
<p>Note that the semicolon is added for consistency: it makes it possible to use the same separator in the <code>url</code> field as in the <code>file</code> and <code>keywords</code> fields.</p>
<h3 id="browser-command">Browser Command</h3>
<p><strong>Default value</strong>: <code>nil</code>.<br /> If this option is unset, Ebib uses the Emacs function <code>browse-url</code> to start a browser. If this function does not exist, you can set this option. For example, if you use the Firefox browser, set this option to <code>firefox</code>.</p>
<p>For this to work, the browser that you use must be able to handle a URL on the command line.</p>
<h3 id="standard-doi-field">Standard Doi Field</h3>
<p><strong>Default value</strong>: <code>doi</code>.<br /> The field Ebib uses to extract the DOI if you press <code>i</code> in the index buffer.</p>
<h3 id="standard-file-field">Standard File Field</h3>
<p><strong>Default value</strong>: <code>file</code>.<br /> This is the field that Ebib searches for filenames if you press <code>f</code> in the index buffer. The special editing behaviour for files as described in <a href="#viewing-files">Viewing Files</a> applies to this field.</p>
<h3 id="file-associations">File Associations</h3>
<p><strong>Default value</strong>: <code>((&quot;pdf&quot; . &quot;xpdf&quot;) (&quot;ps&quot; . &quot;gv&quot;))</code>.<br /> The programs used to view files. By default, programs for <code>.pdf</code> and <code>.ps</code> files are specified, which should be available on most linux systems. If you prefer other programs or are running on Windows, you can specify them here. Note that Ebib searches the PATH for the programs, but you can also specify full path names. It is also possible to open files in Emacs.</p>
<h3 id="filename-separator">Filename Separator</h3>
<p><strong>Default value</strong>: <code>;</code>.<br /> String to separate filenames in the <code>file</code> field (or whichever field is the standard file field). This string is automatically added when adding files to the <code>file</code> field and it is also used to extract filenames when viewing files.</p>
<h3 id="file-search-dirs">File Search Dirs</h3>
<p><strong>Default value</strong>: <code>~</code>.<br /> List of directories that Ebib searches for files. Note that searching is not recursive: only the files listed here are searched, not their subdirectories.</p>
<h3 id="print-preamble">Print Preamble</h3>
<p><strong>Default value</strong>: <code>nil</code>.<br /> This option specifies the preamble that is to be added to the LaTeX file Ebib creates for printing the database as index cards. You can set your own <code>\usepackage</code> commands, or anything else you may need.</p>
<h3 id="print-newline">Print Newline</h3>
<p><strong>Default value</strong>: <code>nil</code>.<br /> With this option set, Ebib puts every entry on a separate page when printing index cards. When this option is unset, the entries are separated by a small amount of whitespace only.</p>
<h3 id="print-multiline">Print Multiline</h3>
<p><strong>Default value</strong>: <code>nil</code>.<br /> When this options is set, Ebib includes multiline field values when you print index cards. When unset, multiline values are excluded, which saves space.</p>
<h3 id="latex-preamble">Latex Preamble</h3>
<p><strong>Default value</strong>: <code>\bibliographystyle{plain}</code>.<br /> This option specifies the preamble to be added to the LaTeX file for creating a list of references from the database. The default is to use the <code>plain</code> style, but you may want to specify your own BibTeX packages and options.</p>
<h3 id="print-tempfile">Print Tempfile</h3>
<p><strong>Default value</strong>: <code>nil</code>.<br /> This option specifies the name and location of the temporary file Ebib creates with the commands <code>ebib-print-database</code> and <code>ebib-latex-database</code>. When unset, Ebib will ask for a filename each time either of these commands is called.</p>
<h3 id="allow-identical-fields">Allow Identical Fields</h3>
<p><strong>Default value</strong>: <code>nil</code>.<br /> If this option is set, Ebib stores the values of multiple occurrences of a single field within an entry in a single occurrence of that field, separated by semicolons (see <a href="#multiple-identical-fields">Multiple Identical Fields</a>).</p>
<h3 id="filters-default-file">Filters Default File</h3>
<p><strong>Default value</strong>: <code>&quot;~/.emacs.d/ebib-filters&quot;</code></p>
<p>The file used for saving stored filters.</p>
<h3 id="filters-display-as-lisp">Filters Display As Lisp</h3>
<p><strong>Default value</strong>: <code>nil</code></p>
<p>If set, filters are displayed as Lisp expressions, i.e., in prefix notation <code>(contains &lt;field&gt; &quot;string&quot;)</code>.</p>
<h3 id="filters-ignore-case">Filters Ignore Case</h3>
<p><strong>Default value</strong>: <code>t</code></p>
<p>If set, filter names are case-insensitive.</p>
<h3 id="entry-types">Entry Types</h3>
<p><strong>Default value</strong>: see below.<br /> This option allows you to customise the entry types that Ebib uses. Each entry type has a name, a set of obligatory fields and a set of optional fields. You can add, alter or delete single fields in an entry type, or whole entry types.</p>
<p>If you want to add an entry type, hit the <code>INS</code> key on the top level and give the new entry a name, then add obligatory and/or optional fields. It is not necessary that an entry type has both obligatory and optional fields, you can define an entry that has only obligatory or only optional fields.</p>
<p>The default entry types and fields are the following:</p>
<pre><code> article                                               ;; name of entry type
   author title journal year                           ;; obligatory fields
   volume number pages month note                      ;; optional fields

 book
   author title publisher year
   editor volume number series address edition month note

 booklet
   title
   author howpublished address month year note

 inbook
   author title chapter pages publisher year
   editor volume series address edition month note

 incollection
   author title booktitle publisher year
   editor volume number series type chapter pages address edition month note

 inproceedings
   author title booktitle year
   editor pages organization publisher address month note

 manual
   title
   author organization address edition month year note

 misc
   --
   title author howpublished month year note

 mastersthesis
   author title school year
   address month note

 phdthesis
   author title school year
   address month note

 proceedings
   title year
   editor publisher organization address month note

 techreport
   author title institution year
   type number address month note

 unpublished
   author title note
   month year</code></pre>
<h2 id="modifying-key-bindings">Modifying Key Bindings</h2>
<p>If you are unhappy about Ebib's standard key bindings and would like to change them, or if you would like to bind a command that is only available through the menu to a key, you can do so by creating a file <code>~/.ebibrc</code> and writing your preferred key bindings in it. A key binding definition is built up as follows:</p>
<pre><code>(ebib-key &lt;buffer&gt; &lt;key&gt; &lt;command&gt;)</code></pre>
<p><code>&lt;buffer&gt;</code> is either <code>index</code>, <code>entry</code> or <code>strings</code>, for the corresponding buffer. <code>&lt;key&gt;</code> is a standard Emacs key description, and <code>&lt;command&gt;</code> is the Ebib command to be associated with the key. The commands that can be used here are listed in <a href="#the-ebib-buffers">The Ebib Buffers</a>. Note that it is possible to bind more than one key to a single function: just add as many <code>ebib-key</code> statements as necessary.</p>
<p>As an example, the following binds <code>C-s</code> to <code>ebib-search</code> in the index buffer, so that the database can be searched with <code>C-s</code> as well as with <code>/</code>:</p>
<pre><code>(ebib-key index &quot;\C-s&quot; ebib-search)</code></pre>
<p>If you want to unbind a key, you can simply leave out <code>&lt;command&gt;</code>. So if you want to bind the command <code>ebib-delete-entry</code> to <code>D</code> rather than <code>d</code>, you need to put the following in <code>.ebibrc</code>:</p>
<pre><code>(ebib-key index &quot;D&quot; ebib-delete-entry)
(ebib-key index &quot;d&quot;)</code></pre>
<p>The first line binds <code>D</code> to the command <code>ebib-delete-entry</code>. The second line unbinds <code>d</code>.</p>
<p>If a command can be called with a prefix key (as for example <code>ebib-delete-entry</code> can), <code>ebib-key</code> will automatically rebind the prefixed version as well. So in the example above, the first line not only binds <code>D</code>, it also binds <code>; D</code>. Similarly, the second line not only unbinds <code>d</code>, but also <code>; d</code>.</p>
<p>Note that if you bind the print commands to a key (<code>ebib-print-entries</code> and <code>ebib-latex-entries</code>) they are automatically set up to accept the prefix key as well.</p>
<p>It is also possible to redefine the prefix key itself. To do this, you must specify <code>select-prefix</code> for <code>&lt;buffer&gt;</code>. The value of <code>&lt;command&gt;</code> is irrelevant here, so it can be left out:</p>
<pre><code>(ebib-key select-prefix &quot;:&quot;)</code></pre>
<p>This sets up <code>:</code> as the new prefix key. Doing this automatically unbinds the existing prefix key.</p>
<p>As a final option, <code>ebib-key</code> allows you to redefine the second key in the key bindings of the multiline edit buffer:</p>
<pre><code>(ebib-key multiline &quot;&amp;&quot;)</code></pre>
<p>This piece of code changes the commands <code>C-c | q</code>, <code>C-c | c</code> and <code>C-c | s</code> to <code>C-c &amp; q</code>, <code>C-c &amp; c</code> and <code>C-c &amp; s</code>, respectively.</p>
</article>
</body>
</html>
